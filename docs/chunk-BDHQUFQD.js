import{C as ra,D as oa,E as la,a as ro,d as oo,e as lo,f as co,g as ho,h as uo,i as mo,j as po,k as go,m as ys,n as bs,o as ge,p as yi,q as fo,r as aa,s as Ts,t as Cs,u as an,v as _o,x as ws,z as sa}from"./chunk-UDBYIL3Y.js";import{d as Re,f as ia,h as na,i as Rt,j as Ye,k as so,l as en,n as Tt,o as tn,s as nn,t as xi,v as Qe,x as vi}from"./chunk-MKK2YIQY.js";import{$a as Ge,$b as ta,A as jr,Ab as no,B as Un,Ba as yt,C as Mt,Ca as qi,Cb as Q,Eb as b,Fb as fs,G as Ur,Gb as _s,Hb as xs,I as Qn,Ib as ct,Jb as je,Kb as Ue,Lb as Vt,Mb as z,Nb as $e,Oa as qr,Ob as ht,Pb as Pt,Qa as Kn,Qb as It,Rb as Bt,S as qn,Sa as g,Sb as Ki,Ta as O,Tb as Je,U as vt,Va as Jn,Vb as vs,Wb as Ji,Xa as mi,Xb as fi,Z as de,Za as ps,_ as ue,a as fe,aa as lt,b as Qi,bb as Zr,ca as E,cb as ea,cc as _i,d as xd,da as We,db as Zi,e as vd,fa as W,fb as bt,g as ms,ga as me,ha as Ot,i as Xr,ic as ao,jb as P,ka as Qr,kb as B,l as he,lb as y,ma as pe,mb as Xe,na as ne,nb as Ke,o as $r,oa as ae,ob as Kr,pa as L,pb as Jr,q as Wr,qa as Zn,qb as eo,rb as to,sa as Ie,sb as io,tb as _,ua as Te,ub as x,vb as Y,wa as H,wb as pi,xb as gi,y as jn,yb as gs,zb as Be}from"./chunk-UVO6JDNB.js";var Lh=xd((ck,Ah)=>{"use strict";Ah.exports=Gg;function zi(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}function Gg(e){if(e=e||{},e.circles)return Yg(e);let t=new Map;if(t.set(Date,r=>new Date(r)),t.set(Map,(r,o)=>new Map(n(Array.from(r),o))),t.set(Set,(r,o)=>new Set(n(Array.from(r),o))),e.constructorHandlers)for(let r of e.constructorHandlers)t.set(r[0],r[1]);let i=null;return e.proto?s:a;function n(r,o){let l=Object.keys(r),c=new Array(l.length);for(let d=0;d<l.length;d++){let h=l[d],u=r[h];typeof u!="object"||u===null?c[h]=u:u.constructor!==Object&&(i=t.get(u.constructor))?c[h]=i(u,o):ArrayBuffer.isView(u)?c[h]=zi(u):c[h]=o(u)}return c}function a(r){if(typeof r!="object"||r===null)return r;if(Array.isArray(r))return n(r,a);if(r.constructor!==Object&&(i=t.get(r.constructor)))return i(r,a);let o={};for(let l in r){if(Object.hasOwnProperty.call(r,l)===!1)continue;let c=r[l];typeof c!="object"||c===null?o[l]=c:c.constructor!==Object&&(i=t.get(c.constructor))?o[l]=i(c,a):ArrayBuffer.isView(c)?o[l]=zi(c):o[l]=a(c)}return o}function s(r){if(typeof r!="object"||r===null)return r;if(Array.isArray(r))return n(r,s);if(r.constructor!==Object&&(i=t.get(r.constructor)))return i(r,s);let o={};for(let l in r){let c=r[l];typeof c!="object"||c===null?o[l]=c:c.constructor!==Object&&(i=t.get(c.constructor))?o[l]=i(c,s):ArrayBuffer.isView(c)?o[l]=zi(c):o[l]=s(c)}return o}}function Yg(e){let t=[],i=[],n=new Map;if(n.set(Date,l=>new Date(l)),n.set(Map,(l,c)=>new Map(s(Array.from(l),c))),n.set(Set,(l,c)=>new Set(s(Array.from(l),c))),e.constructorHandlers)for(let l of e.constructorHandlers)n.set(l[0],l[1]);let a=null;return e.proto?o:r;function s(l,c){let d=Object.keys(l),h=new Array(d.length);for(let u=0;u<d.length;u++){let m=d[u],f=l[m];if(typeof f!="object"||f===null)h[m]=f;else if(f.constructor!==Object&&(a=n.get(f.constructor)))h[m]=a(f,c);else if(ArrayBuffer.isView(f))h[m]=zi(f);else{let S=t.indexOf(f);S!==-1?h[m]=i[S]:h[m]=c(f)}}return h}function r(l){if(typeof l!="object"||l===null)return l;if(Array.isArray(l))return s(l,r);if(l.constructor!==Object&&(a=n.get(l.constructor)))return a(l,r);let c={};t.push(l),i.push(c);for(let d in l){if(Object.hasOwnProperty.call(l,d)===!1)continue;let h=l[d];if(typeof h!="object"||h===null)c[d]=h;else if(h.constructor!==Object&&(a=n.get(h.constructor)))c[d]=a(h,r);else if(ArrayBuffer.isView(h))c[d]=zi(h);else{let u=t.indexOf(h);u!==-1?c[d]=i[u]:c[d]=r(h)}}return t.pop(),i.pop(),c}function o(l){if(typeof l!="object"||l===null)return l;if(Array.isArray(l))return s(l,o);if(l.constructor!==Object&&(a=n.get(l.constructor)))return a(l,o);let c={};t.push(l),i.push(c);for(let d in l){let h=l[d];if(typeof h!="object"||h===null)c[d]=h;else if(h.constructor!==Object&&(a=n.get(h.constructor)))c[d]=a(h,o);else if(ArrayBuffer.isView(h))c[d]=zi(h);else{let u=t.indexOf(h);u!==-1?c[d]=i[u]:c[d]=o(h)}}return t.pop(),i.pop(),c}}});var ca={apiUrl:"https://api.binance.com/api/v3",wsUrl:"wss://stream.binance.com:9443/ws"};var xo=(()=>{let t=class t{connect(n){return this.subject||(this.subject=this.create(n)),this.subject}create(n){let a=new WebSocket(n),s=new Xr(o=>(a.onmessage=o.next.bind(o),a.onerror=o.error.bind(o),a.onclose=o.complete.bind(o),a.close.bind(a))),r={next:o=>{a.readyState===WebSocket.OPEN&&a.send(JSON.stringify(o))}};return he.create(r,s)}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var vo=(()=>{let t=class t{constructor(n,a){this.http=n,this.wsService=a}get24hrTicker(){return this.http.get(`${ca.apiUrl}/ticker/24hr`)}getKlines(n,a){return this.http.get(`${ca.apiUrl}/klines`,{params:{symbol:n,interval:a}})}subscribeTickerStream(n){let a=n.map(s=>`${s.toLowerCase()}@ticker`).join("/");return this.wsService.connect(`${ca.wsUrl}/${a}`)}};t.\u0275fac=function(a){return new(a||t)(E(ro),E(xo))},t.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ss=(()=>{let t=class t{constructor(){this.destroy$=new he,this.takeUntilDestroy=n=>n.pipe(vt(this.destroy$))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=de({token:t,factory:t.\u0275fac});let e=t;return e})();var sn=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Ct=class extends sn{constructor(t,i,n,a,s){super(),this.component=t,this.viewContainerRef=i,this.injector=n,this.componentFactoryResolver=a,this.projectableNodes=s}},bi=class extends sn{constructor(t,i,n,a){super(),this.templateRef=t,this.viewContainerRef=i,this.context=n,this.injector=a}get origin(){return this.templateRef.elementRef}attach(t,i=this.context){return this.context=i,super.attach(t)}detach(){return this.context=void 0,super.detach()}},ks=class extends sn{constructor(t){super(),this.element=t instanceof Te?t.nativeElement:t}},Ti=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Ct)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof bi)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof ks)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Ci=class extends Ti{constructor(t,i,n,a,s){super(),this.outletElement=t,this._componentFactoryResolver=i,this._appRef=n,this._defaultInjector=a,this.attachDomPortal=r=>{this._document;let o=r.element;o.parentNode;let l=this._document.createComment("dom-portal");o.parentNode.insertBefore(l,o),this.outletElement.appendChild(o),this._attachedPortal=r,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(o,l)})},this._document=s}attachComponentPortal(t){let n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),a;return t.viewContainerRef?(a=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>a.destroy())):(a=n.create(t.injector||this._defaultInjector||Ie.NULL),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(a.hostView),a.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(a)),this._attachedPortal=t,a}attachTemplatePortal(t){let i=t.viewContainerRef,n=i.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(a=>this.outletElement.appendChild(a)),n.detectChanges(),this.setDisposeFn(()=>{let a=i.indexOf(n);a!==-1&&i.remove(a)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var rn=(()=>{let t=class t extends Ti{constructor(n,a,s){super(),this._componentFactoryResolver=n,this._viewContainerRef=a,this._isInitialized=!1,this.attached=new H,this.attachDomPortal=r=>{this._document;let o=r.element;o.parentNode;let l=this._document.createComment("dom-portal");r.setAttachedHost(this),o.parentNode.insertBefore(l,o),this._getRootNode().appendChild(o),this._attachedPortal=r,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(o,l)})},this._document=s}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let a=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,r=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),o=a.createComponent(r,a.length,n.injector||a.injector,n.projectableNodes||void 0);return a!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=n,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(n){n.setAttachedHost(this);let a=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=a,this.attached.emit(a),a}_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}};t.\u0275fac=function(a){return new(a||t)(O(mi),O(Zi),O(Re))},t.\u0275dir=Ot({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[bt]});let e=t;return e})();var ha="http://www.w3.org/1999/xhtml",As={svg:"http://www.w3.org/2000/svg",xhtml:ha,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function dt(e){var t=e+="",i=t.indexOf(":");return i>=0&&(t=e.slice(0,i))!=="xmlns"&&(e=e.slice(i+1)),As.hasOwnProperty(t)?{space:As[t],local:e}:e}function bd(e){return function(){var t=this.ownerDocument,i=this.namespaceURI;return i===ha&&t.documentElement.namespaceURI===ha?t.createElement(e):t.createElementNS(i,e)}}function Td(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function da(e){var t=dt(e);return(t.local?Td:bd)(t)}function Cd(){}function Nt(e){return e==null?Cd:function(){return this.querySelector(e)}}function yo(e){typeof e!="function"&&(e=Nt(e));for(var t=this._groups,i=t.length,n=new Array(i),a=0;a<i;++a)for(var s=t[a],r=s.length,o=n[a]=new Array(r),l,c,d=0;d<r;++d)(l=s[d])&&(c=e.call(l,l.__data__,d,s))&&("__data__"in l&&(c.__data__=l.__data__),o[d]=c);return new oe(n,this._parents)}function Ls(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function wd(){return[]}function on(e){return e==null?wd:function(){return this.querySelectorAll(e)}}function Sd(e){return function(){return Ls(e.apply(this,arguments))}}function bo(e){typeof e=="function"?e=Sd(e):e=on(e);for(var t=this._groups,i=t.length,n=[],a=[],s=0;s<i;++s)for(var r=t[s],o=r.length,l,c=0;c<o;++c)(l=r[c])&&(n.push(e.call(l,l.__data__,c,r)),a.push(l));return new oe(n,a)}function ln(e){return function(){return this.matches(e)}}function ua(e){return function(t){return t.matches(e)}}var kd=Array.prototype.find;function Ad(e){return function(){return kd.call(this.children,e)}}function Ld(){return this.firstElementChild}function To(e){return this.select(e==null?Ld:Ad(typeof e=="function"?e:ua(e)))}var Dd=Array.prototype.filter;function Fd(){return Array.from(this.children)}function Ed(e){return function(){return Dd.call(this.children,e)}}function Co(e){return this.selectAll(e==null?Fd:Ed(typeof e=="function"?e:ua(e)))}function wo(e){typeof e!="function"&&(e=ln(e));for(var t=this._groups,i=t.length,n=new Array(i),a=0;a<i;++a)for(var s=t[a],r=s.length,o=n[a]=[],l,c=0;c<r;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&o.push(l);return new oe(n,this._parents)}function ma(e){return new Array(e.length)}function So(){return new oe(this._enter||this._groups.map(ma),this._parents)}function cn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}cn.prototype={constructor:cn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ko(e){return function(){return e}}function Md(e,t,i,n,a,s){for(var r=0,o,l=t.length,c=s.length;r<c;++r)(o=t[r])?(o.__data__=s[r],n[r]=o):i[r]=new cn(e,s[r]);for(;r<l;++r)(o=t[r])&&(a[r]=o)}function Od(e,t,i,n,a,s,r){var o,l,c=new Map,d=t.length,h=s.length,u=new Array(d),m;for(o=0;o<d;++o)(l=t[o])&&(u[o]=m=r.call(l,l.__data__,o,t)+"",c.has(m)?a[o]=l:c.set(m,l));for(o=0;o<h;++o)m=r.call(e,s[o],o,s)+"",(l=c.get(m))?(n[o]=l,l.__data__=s[o],c.delete(m)):i[o]=new cn(e,s[o]);for(o=0;o<d;++o)(l=t[o])&&c.get(u[o])===l&&(a[o]=l)}function Vd(e){return e.__data__}function Ao(e,t){if(!arguments.length)return Array.from(this,Vd);var i=t?Od:Md,n=this._parents,a=this._groups;typeof e!="function"&&(e=ko(e));for(var s=a.length,r=new Array(s),o=new Array(s),l=new Array(s),c=0;c<s;++c){var d=n[c],h=a[c],u=h.length,m=Pd(e.call(d,d&&d.__data__,c,n)),f=m.length,S=o[c]=new Array(f),p=r[c]=new Array(f),C=l[c]=new Array(u);i(d,h,S,p,C,m,t);for(var k=0,T=0,F,V;k<f;++k)if(F=S[k]){for(k>=T&&(T=k+1);!(V=p[T])&&++T<f;);F._next=V||null}}return r=new oe(r,n),r._enter=o,r._exit=l,r}function Pd(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Lo(){return new oe(this._exit||this._groups.map(ma),this._parents)}function Do(e,t,i){var n=this.enter(),a=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),i==null?s.remove():i(s),n&&a?n.merge(a).order():a}function Fo(e){for(var t=e.selection?e.selection():e,i=this._groups,n=t._groups,a=i.length,s=n.length,r=Math.min(a,s),o=new Array(a),l=0;l<r;++l)for(var c=i[l],d=n[l],h=c.length,u=o[l]=new Array(h),m,f=0;f<h;++f)(m=c[f]||d[f])&&(u[f]=m);for(;l<a;++l)o[l]=i[l];return new oe(o,this._parents)}function Eo(){for(var e=this._groups,t=-1,i=e.length;++t<i;)for(var n=e[t],a=n.length-1,s=n[a],r;--a>=0;)(r=n[a])&&(s&&r.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(r,s),s=r);return this}function Mo(e){e||(e=Id);function t(h,u){return h&&u?e(h.__data__,u.__data__):!h-!u}for(var i=this._groups,n=i.length,a=new Array(n),s=0;s<n;++s){for(var r=i[s],o=r.length,l=a[s]=new Array(o),c,d=0;d<o;++d)(c=r[d])&&(l[d]=c);l.sort(t)}return new oe(a,this._parents).order()}function Id(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Oo(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Vo(){return Array.from(this)}function Po(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n=e[t],a=0,s=n.length;a<s;++a){var r=n[a];if(r)return r}return null}function Io(){let e=0;for(let t of this)++e;return e}function Bo(){return!this.node()}function Ro(e){for(var t=this._groups,i=0,n=t.length;i<n;++i)for(var a=t[i],s=0,r=a.length,o;s<r;++s)(o=a[s])&&e.call(o,o.__data__,s,a);return this}function Bd(e){return function(){this.removeAttribute(e)}}function Rd(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Nd(e,t){return function(){this.setAttribute(e,t)}}function Hd(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Gd(e,t){return function(){var i=t.apply(this,arguments);i==null?this.removeAttribute(e):this.setAttribute(e,i)}}function Yd(e,t){return function(){var i=t.apply(this,arguments);i==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}}function No(e,t){var i=dt(e);if(arguments.length<2){var n=this.node();return i.local?n.getAttributeNS(i.space,i.local):n.getAttribute(i)}return this.each((t==null?i.local?Rd:Bd:typeof t=="function"?i.local?Yd:Gd:i.local?Hd:Nd)(i,t))}function pa(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function zd(e){return function(){this.style.removeProperty(e)}}function Xd(e,t,i){return function(){this.style.setProperty(e,t,i)}}function $d(e,t,i){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,i)}}function Ho(e,t,i){return arguments.length>1?this.each((t==null?zd:typeof t=="function"?$d:Xd)(e,t,i??"")):wt(this.node(),e)}function wt(e,t){return e.style.getPropertyValue(t)||pa(e).getComputedStyle(e,null).getPropertyValue(t)}function Wd(e){return function(){delete this[e]}}function jd(e,t){return function(){this[e]=t}}function Ud(e,t){return function(){var i=t.apply(this,arguments);i==null?delete this[e]:this[e]=i}}function Go(e,t){return arguments.length>1?this.each((t==null?Wd:typeof t=="function"?Ud:jd)(e,t)):this.node()[e]}function Yo(e){return e.trim().split(/^|\s+/)}function Ds(e){return e.classList||new zo(e)}function zo(e){this._node=e,this._names=Yo(e.getAttribute("class")||"")}zo.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Xo(e,t){for(var i=Ds(e),n=-1,a=t.length;++n<a;)i.add(t[n])}function $o(e,t){for(var i=Ds(e),n=-1,a=t.length;++n<a;)i.remove(t[n])}function Qd(e){return function(){Xo(this,e)}}function qd(e){return function(){$o(this,e)}}function Zd(e,t){return function(){(t.apply(this,arguments)?Xo:$o)(this,e)}}function Wo(e,t){var i=Yo(e+"");if(arguments.length<2){for(var n=Ds(this.node()),a=-1,s=i.length;++a<s;)if(!n.contains(i[a]))return!1;return!0}return this.each((typeof t=="function"?Zd:t?Qd:qd)(i,t))}function Kd(){this.textContent=""}function Jd(e){return function(){this.textContent=e}}function eu(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function jo(e){return arguments.length?this.each(e==null?Kd:(typeof e=="function"?eu:Jd)(e)):this.node().textContent}function tu(){this.innerHTML=""}function iu(e){return function(){this.innerHTML=e}}function nu(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Uo(e){return arguments.length?this.each(e==null?tu:(typeof e=="function"?nu:iu)(e)):this.node().innerHTML}function au(){this.nextSibling&&this.parentNode.appendChild(this)}function Qo(){return this.each(au)}function su(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qo(){return this.each(su)}function Zo(e){var t=typeof e=="function"?e:da(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ru(){return null}function Ko(e,t){var i=typeof e=="function"?e:da(e),n=t==null?ru:typeof t=="function"?t:Nt(t);return this.select(function(){return this.insertBefore(i.apply(this,arguments),n.apply(this,arguments)||null)})}function ou(){var e=this.parentNode;e&&e.removeChild(this)}function Jo(){return this.each(ou)}function lu(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function cu(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function el(e){return this.select(e?cu:lu)}function tl(e){return arguments.length?this.property("__data__",e):this.node().__data__}function hu(e){return function(t){e.call(this,t,this.__data__)}}function du(e){return e.trim().split(/^|\s+/).map(function(t){var i="",n=t.indexOf(".");return n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),{type:t,name:i}})}function uu(e){return function(){var t=this.__on;if(t){for(var i=0,n=-1,a=t.length,s;i<a;++i)s=t[i],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function mu(e,t,i){return function(){var n=this.__on,a,s=hu(t);if(n){for(var r=0,o=n.length;r<o;++r)if((a=n[r]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=i),a.value=t;return}}this.addEventListener(e.type,s,i),a={type:e.type,name:e.name,value:t,listener:s,options:i},n?n.push(a):this.__on=[a]}}function il(e,t,i){var n=du(e+""),a,s=n.length,r;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,d;l<c;++l)for(a=0,d=o[l];a<s;++a)if((r=n[a]).type===d.type&&r.name===d.name)return d.value}return}for(o=t?mu:uu,a=0;a<s;++a)this.each(o(n[a],t,i));return this}function nl(e,t,i){var n=pa(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,i):(a=n.document.createEvent("Event"),i?(a.initEvent(t,i.bubbles,i.cancelable),a.detail=i.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function pu(e,t){return function(){return nl(this,e,t)}}function gu(e,t){return function(){return nl(this,e,t.apply(this,arguments))}}function al(e,t){return this.each((typeof t=="function"?gu:pu)(e,t))}function*sl(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n=e[t],a=0,s=n.length,r;a<s;++a)(r=n[a])&&(yield r)}var Fs=[null];function oe(e,t){this._groups=e,this._parents=t}function rl(){return new oe([[document.documentElement]],Fs)}function fu(){return this}oe.prototype=rl.prototype={constructor:oe,select:yo,selectAll:bo,selectChild:To,selectChildren:Co,filter:wo,data:Ao,enter:So,exit:Lo,join:Do,merge:Fo,selection:fu,order:Eo,sort:Mo,call:Oo,nodes:Vo,node:Po,size:Io,empty:Bo,each:Ro,attr:No,style:Ho,property:Go,classed:Wo,text:jo,html:Uo,raise:Qo,lower:qo,append:Zo,insert:Ko,remove:Jo,clone:el,datum:tl,on:il,dispatch:al,[Symbol.iterator]:sl};var ut=rl;function Ae(e){return typeof e=="string"?new oe([[document.querySelector(e)]],[document.documentElement]):new oe([[e]],Fs)}function ol(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ga(e,t){if(e=ol(e),t===void 0&&(t=e.currentTarget),t){var i=t.ownerSVGElement||t;if(i.createSVGPoint){var n=i.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}var _u={value:()=>{}};function cl(){for(var e=0,t=arguments.length,i={},n;e<t;++e){if(!(n=arguments[e]+"")||n in i||/[\s.]/.test(n))throw new Error("illegal type: "+n);i[n]=[]}return new fa(i)}function fa(e){this._=e}function xu(e,t){return e.trim().split(/^|\s+/).map(function(i){var n="",a=i.indexOf(".");if(a>=0&&(n=i.slice(a+1),i=i.slice(0,a)),i&&!t.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:n}})}fa.prototype=cl.prototype={constructor:fa,on:function(e,t){var i=this._,n=xu(e+"",i),a,s=-1,r=n.length;if(arguments.length<2){for(;++s<r;)if((a=(e=n[s]).type)&&(a=vu(i[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<r;)if(a=(e=n[s]).type)i[a]=ll(i[a],e.name,t);else if(t==null)for(a in i)i[a]=ll(i[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var i in t)e[i]=t[i].slice();return new fa(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var i=new Array(a),n=0,a,s;n<a;++n)i[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(t,i)},apply:function(e,t,i){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,s=n.length;a<s;++a)n[a].value.apply(t,i)}};function vu(e,t){for(var i=0,n=e.length,a;i<n;++i)if((a=e[i]).name===t)return a.value}function ll(e,t,i){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=_u,e=e.slice(0,n).concat(e.slice(n+1));break}return i!=null&&e.push({name:t,value:i}),e}var hn=cl;var _a={capture:!0,passive:!1};function xa(e){e.preventDefault(),e.stopImmediatePropagation()}function Es(e){var t=e.document.documentElement,i=Ae(e).on("dragstart.drag",xa,_a);"onselectstart"in t?i.on("selectstart.drag",xa,_a):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ms(e,t){var i=e.document.documentElement,n=Ae(e).on("dragstart.drag",null);t&&(n.on("click.drag",xa,_a),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in i?n.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}function va(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function Os(e,t){var i=Object.create(e.prototype);for(var n in t)i[n]=t[n];return i}function mn(){}var dn=.7,Ta=1/dn,wi="\\s*([+-]?\\d+)\\s*",un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yu=/^#([0-9a-f]{3,8})$/,bu=new RegExp(`^rgb\\(${wi},${wi},${wi}\\)$`),Tu=new RegExp(`^rgb\\(${tt},${tt},${tt}\\)$`),Cu=new RegExp(`^rgba\\(${wi},${wi},${wi},${un}\\)$`),wu=new RegExp(`^rgba\\(${tt},${tt},${tt},${un}\\)$`),Su=new RegExp(`^hsl\\(${un},${tt},${tt}\\)$`),ku=new RegExp(`^hsla\\(${un},${tt},${tt},${un}\\)$`),hl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};va(mn,Ze,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:dl,formatHex:dl,formatHex8:Au,formatHsl:Lu,formatRgb:ul,toString:ul});function dl(){return this.rgb().formatHex()}function Au(){return this.rgb().formatHex8()}function Lu(){return xl(this).formatHsl()}function ul(){return this.rgb().formatRgb()}function Ze(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=yu.exec(e))?(i=t[1].length,t=parseInt(t[1],16),i===6?ml(t):i===3?new Ne(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):i===8?ya(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):i===4?ya(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=bu.exec(e))?new Ne(t[1],t[2],t[3],1):(t=Tu.exec(e))?new Ne(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Cu.exec(e))?ya(t[1],t[2],t[3],t[4]):(t=wu.exec(e))?ya(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Su.exec(e))?fl(t[1],t[2]/100,t[3]/100,1):(t=ku.exec(e))?fl(t[1],t[2]/100,t[3]/100,t[4]):hl.hasOwnProperty(e)?ml(hl[e]):e==="transparent"?new Ne(NaN,NaN,NaN,0):null}function ml(e){return new Ne(e>>16&255,e>>8&255,e&255,1)}function ya(e,t,i,n){return n<=0&&(e=t=i=NaN),new Ne(e,t,i,n)}function Du(e){return e instanceof mn||(e=Ze(e)),e?(e=e.rgb(),new Ne(e.r,e.g,e.b,e.opacity)):new Ne}function Si(e,t,i,n){return arguments.length===1?Du(e):new Ne(e,t,i,n??1)}function Ne(e,t,i,n){this.r=+e,this.g=+t,this.b=+i,this.opacity=+n}va(Ne,Si,Os(mn,{brighter(e){return e=e==null?Ta:Math.pow(Ta,e),new Ne(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dn:Math.pow(dn,e),new Ne(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ne(Gt(this.r),Gt(this.g),Gt(this.b),Ca(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pl,formatHex:pl,formatHex8:Fu,formatRgb:gl,toString:gl}));function pl(){return`#${Ht(this.r)}${Ht(this.g)}${Ht(this.b)}`}function Fu(){return`#${Ht(this.r)}${Ht(this.g)}${Ht(this.b)}${Ht((isNaN(this.opacity)?1:this.opacity)*255)}`}function gl(){let e=Ca(this.opacity);return`${e===1?"rgb(":"rgba("}${Gt(this.r)}, ${Gt(this.g)}, ${Gt(this.b)}${e===1?")":`, ${e})`}`}function Ca(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Gt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ht(e){return e=Gt(e),(e<16?"0":"")+e.toString(16)}function fl(e,t,i,n){return n<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new qe(e,t,i,n)}function xl(e){if(e instanceof qe)return new qe(e.h,e.s,e.l,e.opacity);if(e instanceof mn||(e=Ze(e)),!e)return new qe;if(e instanceof qe)return e;e=e.rgb();var t=e.r/255,i=e.g/255,n=e.b/255,a=Math.min(t,i,n),s=Math.max(t,i,n),r=NaN,o=s-a,l=(s+a)/2;return o?(t===s?r=(i-n)/o+(i<n)*6:i===s?r=(n-t)/o+2:r=(t-i)/o+4,o/=l<.5?s+a:2-s-a,r*=60):o=l>0&&l<1?0:r,new qe(r,o,l,e.opacity)}function vl(e,t,i,n){return arguments.length===1?xl(e):new qe(e,t,i,n??1)}function qe(e,t,i,n){this.h=+e,this.s=+t,this.l=+i,this.opacity=+n}va(qe,vl,Os(mn,{brighter(e){return e=e==null?Ta:Math.pow(Ta,e),new qe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dn:Math.pow(dn,e),new qe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*t,a=2*i-n;return new Ne(Vs(e>=240?e-240:e+120,a,n),Vs(e,a,n),Vs(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new qe(_l(this.h),ba(this.s),ba(this.l),Ca(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=Ca(this.opacity);return`${e===1?"hsl(":"hsla("}${_l(this.h)}, ${ba(this.s)*100}%, ${ba(this.l)*100}%${e===1?")":`, ${e})`}`}}));function _l(e){return e=(e||0)%360,e<0?e+360:e}function ba(e){return Math.max(0,Math.min(1,e||0))}function Vs(e,t,i){return(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)*255}function Ps(e,t,i,n,a){var s=e*e,r=s*e;return((1-3*e+3*s-r)*t+(4-6*s+3*r)*i+(1+3*e+3*s-3*r)*n+r*a)/6}function yl(e){var t=e.length-1;return function(i){var n=i<=0?i=0:i>=1?(i=1,t-1):Math.floor(i*t),a=e[n],s=e[n+1],r=n>0?e[n-1]:2*a-s,o=n<t-1?e[n+2]:2*s-a;return Ps((i-n/t)*t,r,a,s,o)}}function bl(e){var t=e.length;return function(i){var n=Math.floor(((i%=1)<0?++i:i)*t),a=e[(n+t-1)%t],s=e[n%t],r=e[(n+1)%t],o=e[(n+2)%t];return Ps((i-n/t)*t,a,s,r,o)}}var pn=e=>()=>e;function Eu(e,t){return function(i){return e+i*t}}function Mu(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(n){return Math.pow(e+n*t,i)}}function Tl(e){return(e=+e)==1?wa:function(t,i){return i-t?Mu(t,i,e):pn(isNaN(t)?i:t)}}function wa(e,t){var i=t-e;return i?Eu(e,i):pn(isNaN(e)?t:e)}var Yt=function e(t){var i=Tl(t);function n(a,s){var r=i((a=Si(a)).r,(s=Si(s)).r),o=i(a.g,s.g),l=i(a.b,s.b),c=wa(a.opacity,s.opacity);return function(d){return a.r=r(d),a.g=o(d),a.b=l(d),a.opacity=c(d),a+""}}return n.gamma=e,n}(1);function Cl(e){return function(t){var i=t.length,n=new Array(i),a=new Array(i),s=new Array(i),r,o;for(r=0;r<i;++r)o=Si(t[r]),n[r]=o.r||0,a[r]=o.g||0,s[r]=o.b||0;return n=e(n),a=e(a),s=e(s),o.opacity=1,function(l){return o.r=n(l),o.g=a(l),o.b=s(l),o+""}}}var Ou=Cl(yl),Vu=Cl(bl);function wl(e,t){t||(t=[]);var i=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<i;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function Sl(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kl(e,t){var i=t?t.length:0,n=e?Math.min(i,e.length):0,a=new Array(n),s=new Array(i),r;for(r=0;r<n;++r)a[r]=mt(e[r],t[r]);for(;r<i;++r)s[r]=t[r];return function(o){for(r=0;r<n;++r)s[r]=a[r](o);return s}}function Al(e,t){var i=new Date;return e=+e,t=+t,function(n){return i.setTime(e*(1-n)+t*n),i}}function Ce(e,t){return e=+e,t=+t,function(i){return e*(1-i)+t*i}}function Ll(e,t){var i={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?i[a]=mt(e[a],t[a]):n[a]=t[a];return function(s){for(a in i)n[a]=i[a](s);return n}}var Bs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Is=new RegExp(Bs.source,"g");function Pu(e){return function(){return e}}function Iu(e){return function(t){return e(t)+""}}function gn(e,t){var i=Bs.lastIndex=Is.lastIndex=0,n,a,s,r=-1,o=[],l=[];for(e=e+"",t=t+"";(n=Bs.exec(e))&&(a=Is.exec(t));)(s=a.index)>i&&(s=t.slice(i,s),o[r]?o[r]+=s:o[++r]=s),(n=n[0])===(a=a[0])?o[r]?o[r]+=a:o[++r]=a:(o[++r]=null,l.push({i:r,x:Ce(n,a)})),i=Is.lastIndex;return i<t.length&&(s=t.slice(i),o[r]?o[r]+=s:o[++r]=s),o.length<2?l[0]?Iu(l[0].x):Pu(t):(t=l.length,function(c){for(var d=0,h;d<t;++d)o[(h=l[d]).i]=h.x(c);return o.join("")})}function mt(e,t){var i=typeof t,n;return t==null||i==="boolean"?pn(t):(i==="number"?Ce:i==="string"?(n=Ze(t))?(t=n,Yt):gn:t instanceof Ze?Yt:t instanceof Date?Al:Sl(t)?wl:Array.isArray(t)?kl:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ll:Ce)(e,t)}function Rs(e,t){return e=+e,t=+t,function(i){return Math.round(e*(1-i)+t*i)}}var Dl=180/Math.PI,Sa={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ns(e,t,i,n,a,s){var r,o,l;return(r=Math.sqrt(e*e+t*t))&&(e/=r,t/=r),(l=e*i+t*n)&&(i-=e*l,n-=t*l),(o=Math.sqrt(i*i+n*n))&&(i/=o,n/=o,l/=o),e*n<t*i&&(e=-e,t=-t,l=-l,r=-r),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*Dl,skewX:Math.atan(l)*Dl,scaleX:r,scaleY:o}}var ka;function Fl(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Sa:Ns(t.a,t.b,t.c,t.d,t.e,t.f)}function El(e){return e==null?Sa:(ka||(ka=document.createElementNS("http://www.w3.org/2000/svg","g")),ka.setAttribute("transform",e),(e=ka.transform.baseVal.consolidate())?(e=e.matrix,Ns(e.a,e.b,e.c,e.d,e.e,e.f)):Sa)}function Ml(e,t,i,n){function a(c){return c.length?c.pop()+" ":""}function s(c,d,h,u,m,f){if(c!==h||d!==u){var S=m.push("translate(",null,t,null,i);f.push({i:S-4,x:Ce(c,h)},{i:S-2,x:Ce(d,u)})}else(h||u)&&m.push("translate("+h+t+u+i)}function r(c,d,h,u){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),u.push({i:h.push(a(h)+"rotate(",null,n)-2,x:Ce(c,d)})):d&&h.push(a(h)+"rotate("+d+n)}function o(c,d,h,u){c!==d?u.push({i:h.push(a(h)+"skewX(",null,n)-2,x:Ce(c,d)}):d&&h.push(a(h)+"skewX("+d+n)}function l(c,d,h,u,m,f){if(c!==h||d!==u){var S=m.push(a(m)+"scale(",null,",",null,")");f.push({i:S-4,x:Ce(c,h)},{i:S-2,x:Ce(d,u)})}else(h!==1||u!==1)&&m.push(a(m)+"scale("+h+","+u+")")}return function(c,d){var h=[],u=[];return c=e(c),d=e(d),s(c.translateX,c.translateY,d.translateX,d.translateY,h,u),r(c.rotate,d.rotate,h,u),o(c.skewX,d.skewX,h,u),l(c.scaleX,c.scaleY,d.scaleX,d.scaleY,h,u),c=d=null,function(m){for(var f=-1,S=u.length,p;++f<S;)h[(p=u[f]).i]=p.x(m);return h.join("")}}}var Hs=Ml(Fl,"px, ","px)","deg)"),Gs=Ml(El,", ",")",")");var ki=0,_n=0,fn=0,Vl=1e3,Aa,xn,La=0,zt=0,Da=0,vn=typeof performance=="object"&&performance.now?performance:Date,Pl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function bn(){return zt||(Pl(Bu),zt=vn.now()+Da)}function Bu(){zt=0}function yn(){this._call=this._time=this._next=null}yn.prototype=Fa.prototype={constructor:yn,restart:function(e,t,i){if(typeof e!="function")throw new TypeError("callback is not a function");i=(i==null?bn():+i)+(t==null?0:+t),!this._next&&xn!==this&&(xn?xn._next=this:Aa=this,xn=this),this._call=e,this._time=i,Ys()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ys())}};function Fa(e,t,i){var n=new yn;return n.restart(e,t,i),n}function Il(){bn(),++ki;for(var e=Aa,t;e;)(t=zt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ki}function Ol(){zt=(La=vn.now())+Da,ki=_n=0;try{Il()}finally{ki=0,Nu(),zt=0}}function Ru(){var e=vn.now(),t=e-La;t>Vl&&(Da-=t,La=e)}function Nu(){for(var e,t=Aa,i,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(i=t._next,t._next=null,t=e?e._next=i:Aa=i);xn=e,Ys(n)}function Ys(e){if(!ki){_n&&(_n=clearTimeout(_n));var t=e-zt;t>24?(e<1/0&&(_n=setTimeout(Ol,e-vn.now()-Da)),fn&&(fn=clearInterval(fn))):(fn||(La=vn.now(),fn=setInterval(Ru,Vl)),ki=1,Pl(Ol))}}function Ea(e,t,i){var n=new yn;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,i),n}var Hu=hn("start","end","cancel","interrupt"),Gu=[],Nl=0,Bl=1,Oa=2,Ma=3,Rl=4,Va=5,Tn=6;function St(e,t,i,n,a,s){var r=e.__transition;if(!r)e.__transition={};else if(i in r)return;Yu(e,i,{name:t,index:n,group:a,on:Hu,tween:Gu,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Nl})}function Cn(e,t){var i=ve(e,t);if(i.state>Nl)throw new Error("too late; already scheduled");return i}function we(e,t){var i=ve(e,t);if(i.state>Ma)throw new Error("too late; already running");return i}function ve(e,t){var i=e.__transition;if(!i||!(i=i[t]))throw new Error("transition not found");return i}function Yu(e,t,i){var n=e.__transition,a;n[t]=i,i.timer=Fa(s,0,i.time);function s(c){i.state=Bl,i.timer.restart(r,i.delay,i.time),i.delay<=c&&r(c-i.delay)}function r(c){var d,h,u,m;if(i.state!==Bl)return l();for(d in n)if(m=n[d],m.name===i.name){if(m.state===Ma)return Ea(r);m.state===Rl?(m.state=Tn,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete n[d]):+d<t&&(m.state=Tn,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete n[d])}if(Ea(function(){i.state===Ma&&(i.state=Rl,i.timer.restart(o,i.delay,i.time),o(c))}),i.state=Oa,i.on.call("start",e,e.__data__,i.index,i.group),i.state===Oa){for(i.state=Ma,a=new Array(u=i.tween.length),d=0,h=-1;d<u;++d)(m=i.tween[d].value.call(e,e.__data__,i.index,i.group))&&(a[++h]=m);a.length=h+1}}function o(c){for(var d=c<i.duration?i.ease.call(null,c/i.duration):(i.timer.restart(l),i.state=Va,1),h=-1,u=a.length;++h<u;)a[h].call(e,d);i.state===Va&&(i.on.call("end",e,e.__data__,i.index,i.group),l())}function l(){i.state=Tn,i.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}function Ai(e,t){var i=e.__transition,n,a,s=!0,r;if(i){t=t==null?null:t+"";for(r in i){if((n=i[r]).name!==t){s=!1;continue}a=n.state>Oa&&n.state<Va,n.state=Tn,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[r]}s&&delete e.__transition}}function Hl(e){return this.each(function(){Ai(this,e)})}function zu(e,t){var i,n;return function(){var a=we(this,e),s=a.tween;if(s!==i){n=i=s;for(var r=0,o=n.length;r<o;++r)if(n[r].name===t){n=n.slice(),n.splice(r,1);break}}a.tween=n}}function Xu(e,t,i){var n,a;if(typeof i!="function")throw new Error;return function(){var s=we(this,e),r=s.tween;if(r!==n){a=(n=r).slice();for(var o={name:t,value:i},l=0,c=a.length;l<c;++l)if(a[l].name===t){a[l]=o;break}l===c&&a.push(o)}s.tween=a}}function Gl(e,t){var i=this._id;if(e+="",arguments.length<2){for(var n=ve(this.node(),i).tween,a=0,s=n.length,r;a<s;++a)if((r=n[a]).name===e)return r.value;return null}return this.each((t==null?zu:Xu)(i,e,t))}function Li(e,t,i){var n=e._id;return e.each(function(){var a=we(this,n);(a.value||(a.value={}))[t]=i.apply(this,arguments)}),function(a){return ve(a,n).value[t]}}function Pa(e,t){var i;return(typeof t=="number"?Ce:t instanceof Ze?Yt:(i=Ze(t))?(t=i,Yt):gn)(e,t)}function $u(e){return function(){this.removeAttribute(e)}}function Wu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ju(e,t,i){var n,a=i+"",s;return function(){var r=this.getAttribute(e);return r===a?null:r===n?s:s=t(n=r,i)}}function Uu(e,t,i){var n,a=i+"",s;return function(){var r=this.getAttributeNS(e.space,e.local);return r===a?null:r===n?s:s=t(n=r,i)}}function Qu(e,t,i){var n,a,s;return function(){var r,o=i(this),l;return o==null?void this.removeAttribute(e):(r=this.getAttribute(e),l=o+"",r===l?null:r===n&&l===a?s:(a=l,s=t(n=r,o)))}}function qu(e,t,i){var n,a,s;return function(){var r,o=i(this),l;return o==null?void this.removeAttributeNS(e.space,e.local):(r=this.getAttributeNS(e.space,e.local),l=o+"",r===l?null:r===n&&l===a?s:(a=l,s=t(n=r,o)))}}function Yl(e,t){var i=dt(e),n=i==="transform"?Gs:Pa;return this.attrTween(e,typeof t=="function"?(i.local?qu:Qu)(i,n,Li(this,"attr."+e,t)):t==null?(i.local?Wu:$u)(i):(i.local?Uu:ju)(i,n,t))}function Zu(e,t){return function(i){this.setAttribute(e,t.call(this,i))}}function Ku(e,t){return function(i){this.setAttributeNS(e.space,e.local,t.call(this,i))}}function Ju(e,t){var i,n;function a(){var s=t.apply(this,arguments);return s!==n&&(i=(n=s)&&Ku(e,s)),i}return a._value=t,a}function em(e,t){var i,n;function a(){var s=t.apply(this,arguments);return s!==n&&(i=(n=s)&&Zu(e,s)),i}return a._value=t,a}function zl(e,t){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;var n=dt(e);return this.tween(i,(n.local?Ju:em)(n,t))}function tm(e,t){return function(){Cn(this,e).delay=+t.apply(this,arguments)}}function im(e,t){return t=+t,function(){Cn(this,e).delay=t}}function Xl(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?tm:im)(t,e)):ve(this.node(),t).delay}function nm(e,t){return function(){we(this,e).duration=+t.apply(this,arguments)}}function am(e,t){return t=+t,function(){we(this,e).duration=t}}function $l(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?nm:am)(t,e)):ve(this.node(),t).duration}function sm(e,t){if(typeof t!="function")throw new Error;return function(){we(this,e).ease=t}}function Wl(e){var t=this._id;return arguments.length?this.each(sm(t,e)):ve(this.node(),t).ease}function rm(e,t){return function(){var i=t.apply(this,arguments);if(typeof i!="function")throw new Error;we(this,e).ease=i}}function jl(e){if(typeof e!="function")throw new Error;return this.each(rm(this._id,e))}function Ul(e){typeof e!="function"&&(e=ln(e));for(var t=this._groups,i=t.length,n=new Array(i),a=0;a<i;++a)for(var s=t[a],r=s.length,o=n[a]=[],l,c=0;c<r;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&o.push(l);return new Pe(n,this._parents,this._name,this._id)}function Ql(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,i=e._groups,n=t.length,a=i.length,s=Math.min(n,a),r=new Array(n),o=0;o<s;++o)for(var l=t[o],c=i[o],d=l.length,h=r[o]=new Array(d),u,m=0;m<d;++m)(u=l[m]||c[m])&&(h[m]=u);for(;o<n;++o)r[o]=t[o];return new Pe(r,this._parents,this._name,this._id)}function om(e){return(e+"").trim().split(/^|\s+/).every(function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||t==="start"})}function lm(e,t,i){var n,a,s=om(t)?Cn:we;return function(){var r=s(this,e),o=r.on;o!==n&&(a=(n=o).copy()).on(t,i),r.on=a}}function ql(e,t){var i=this._id;return arguments.length<2?ve(this.node(),i).on.on(e):this.each(lm(i,e,t))}function cm(e){return function(){var t=this.parentNode;for(var i in this.__transition)if(+i!==e)return;t&&t.removeChild(this)}}function Zl(){return this.on("end.remove",cm(this._id))}function Kl(e){var t=this._name,i=this._id;typeof e!="function"&&(e=Nt(e));for(var n=this._groups,a=n.length,s=new Array(a),r=0;r<a;++r)for(var o=n[r],l=o.length,c=s[r]=new Array(l),d,h,u=0;u<l;++u)(d=o[u])&&(h=e.call(d,d.__data__,u,o))&&("__data__"in d&&(h.__data__=d.__data__),c[u]=h,St(c[u],t,i,u,c,ve(d,i)));return new Pe(s,this._parents,t,i)}function Jl(e){var t=this._name,i=this._id;typeof e!="function"&&(e=on(e));for(var n=this._groups,a=n.length,s=[],r=[],o=0;o<a;++o)for(var l=n[o],c=l.length,d,h=0;h<c;++h)if(d=l[h]){for(var u=e.call(d,d.__data__,h,l),m,f=ve(d,i),S=0,p=u.length;S<p;++S)(m=u[S])&&St(m,t,i,S,u,f);s.push(u),r.push(d)}return new Pe(s,r,t,i)}var hm=ut.prototype.constructor;function ec(){return new hm(this._groups,this._parents)}function dm(e,t){var i,n,a;return function(){var s=wt(this,e),r=(this.style.removeProperty(e),wt(this,e));return s===r?null:s===i&&r===n?a:a=t(i=s,n=r)}}function tc(e){return function(){this.style.removeProperty(e)}}function um(e,t,i){var n,a=i+"",s;return function(){var r=wt(this,e);return r===a?null:r===n?s:s=t(n=r,i)}}function mm(e,t,i){var n,a,s;return function(){var r=wt(this,e),o=i(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(e),wt(this,e))),r===l?null:r===n&&l===a?s:(a=l,s=t(n=r,o))}}function pm(e,t){var i,n,a,s="style."+t,r="end."+s,o;return function(){var l=we(this,e),c=l.on,d=l.value[s]==null?o||(o=tc(t)):void 0;(c!==i||a!==d)&&(n=(i=c).copy()).on(r,a=d),l.on=n}}function ic(e,t,i){var n=(e+="")=="transform"?Hs:Pa;return t==null?this.styleTween(e,dm(e,n)).on("end.style."+e,tc(e)):typeof t=="function"?this.styleTween(e,mm(e,n,Li(this,"style."+e,t))).each(pm(this._id,e)):this.styleTween(e,um(e,n,t),i).on("end.style."+e,null)}function gm(e,t,i){return function(n){this.style.setProperty(e,t.call(this,n),i)}}function fm(e,t,i){var n,a;function s(){var r=t.apply(this,arguments);return r!==a&&(n=(a=r)&&gm(e,r,i)),n}return s._value=t,s}function nc(e,t,i){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,fm(e,t,i??""))}function _m(e){return function(){this.textContent=e}}function xm(e){return function(){var t=e(this);this.textContent=t??""}}function ac(e){return this.tween("text",typeof e=="function"?xm(Li(this,"text",e)):_m(e==null?"":e+""))}function vm(e){return function(t){this.textContent=e.call(this,t)}}function ym(e){var t,i;function n(){var a=e.apply(this,arguments);return a!==i&&(t=(i=a)&&vm(a)),t}return n._value=e,n}function sc(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,ym(e))}function rc(){for(var e=this._name,t=this._id,i=Ia(),n=this._groups,a=n.length,s=0;s<a;++s)for(var r=n[s],o=r.length,l,c=0;c<o;++c)if(l=r[c]){var d=ve(l,t);St(l,e,i,c,r,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Pe(n,this._parents,e,i)}function oc(){var e,t,i=this,n=i._id,a=i.size();return new Promise(function(s,r){var o={value:r},l={value:function(){--a===0&&s()}};i.each(function(){var c=we(this,n),d=c.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),c.on=t}),a===0&&s()})}var bm=0;function Pe(e,t,i,n){this._groups=e,this._parents=t,this._name=i,this._id=n}function lc(e){return ut().transition(e)}function Ia(){return++bm}var pt=ut.prototype;Pe.prototype=lc.prototype={constructor:Pe,select:Kl,selectAll:Jl,selectChild:pt.selectChild,selectChildren:pt.selectChildren,filter:Ul,merge:Ql,selection:ec,transition:rc,call:pt.call,nodes:pt.nodes,node:pt.node,size:pt.size,empty:pt.empty,each:pt.each,on:ql,attr:Yl,attrTween:zl,style:ic,styleTween:nc,text:ac,textTween:sc,remove:Zl,tween:Gl,delay:Xl,duration:$l,ease:Wl,easeVarying:jl,end:oc,[Symbol.iterator]:pt[Symbol.iterator]};function Ba(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Tm={time:null,delay:0,duration:250,ease:Ba};function Cm(e,t){for(var i;!(i=e.__transition)||!(i=i[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return i}function cc(e){var t,i;e instanceof Pe?(t=e._id,e=e._name):(t=Ia(),(i=Tm).time=bn(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,s=0;s<a;++s)for(var r=n[s],o=r.length,l,c=0;c<o;++c)(l=r[c])&&St(l,e,t,c,r,i||Cm(l,t));return new Pe(n,this._parents,e,t)}ut.prototype.interrupt=Hl;ut.prototype.transition=cc;var Ra=e=>()=>e;function zs(e,{sourceEvent:t,target:i,selection:n,mode:a,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},selection:{value:n,enumerable:!0,configurable:!0},mode:{value:a,enumerable:!0,configurable:!0},_:{value:s}})}function hc(e){e.stopImmediatePropagation()}function Na(e){e.preventDefault(),e.stopImmediatePropagation()}var dc={name:"drag"},Xs={name:"space"},Di={name:"handle"},Fi={name:"center"},{abs:uc,max:Le,min:De}=Math;function mc(e){return[+e[0],+e[1]]}function js(e){return[mc(e[0]),mc(e[1])]}var Ha={name:"x",handles:["w","e"].map(wn),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},$s={name:"y",handles:["n","s"].map(wn),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},CC={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(wn),input:function(e){return e==null?null:js(e)},output:function(e){return e}},gt={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},pc={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},gc={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},wm={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Sm={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function wn(e){return{type:e}}function km(e){return!e.ctrlKey&&!e.button}function Am(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Lm(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ws(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function Dm(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Us(){return Fm(Ha)}function Fm(e){var t=Am,i=km,n=Lm,a=!0,s=hn("start","brush","end"),r=6,o;function l(p){var C=p.property("__brush",S).selectAll(".overlay").data([wn("overlay")]);C.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",gt.overlay).merge(C).each(function(){var T=Ws(this).extent;Ae(this).attr("x",T[0][0]).attr("y",T[0][1]).attr("width",T[1][0]-T[0][0]).attr("height",T[1][1]-T[0][1])}),p.selectAll(".selection").data([wn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",gt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var k=p.selectAll(".handle").data(e.handles,function(T){return T.type});k.exit().remove(),k.enter().append("rect").attr("class",function(T){return"handle handle--"+T.type}).attr("cursor",function(T){return gt[T.type]}),p.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",u).filter(n).on("touchstart.brush",u).on("touchmove.brush",m).on("touchend.brush touchcancel.brush",f).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(p,C,k){p.tween?p.on("start.brush",function(T){d(this,arguments).beforestart().start(T)}).on("interrupt.brush end.brush",function(T){d(this,arguments).end(T)}).tween("brush",function(){var T=this,F=T.__brush,V=d(T,arguments),A=F.selection,q=e.input(typeof C=="function"?C.apply(this,arguments):C,F.extent),Z=mt(A,q);function Ee(ee){F.selection=ee===1&&q===null?null:Z(ee),c.call(T),V.brush()}return A!==null&&q!==null?Ee:Ee(1)}):p.each(function(){var T=this,F=arguments,V=T.__brush,A=e.input(typeof C=="function"?C.apply(T,F):C,V.extent),q=d(T,F).beforestart();Ai(T),V.selection=A===null?null:A,c.call(T),q.start(k).brush(k).end(k)})},l.clear=function(p,C){l.move(p,null,C)};function c(){var p=Ae(this),C=Ws(this).selection;C?(p.selectAll(".selection").style("display",null).attr("x",C[0][0]).attr("y",C[0][1]).attr("width",C[1][0]-C[0][0]).attr("height",C[1][1]-C[0][1]),p.selectAll(".handle").style("display",null).attr("x",function(k){return k.type[k.type.length-1]==="e"?C[1][0]-r/2:C[0][0]-r/2}).attr("y",function(k){return k.type[0]==="s"?C[1][1]-r/2:C[0][1]-r/2}).attr("width",function(k){return k.type==="n"||k.type==="s"?C[1][0]-C[0][0]+r:r}).attr("height",function(k){return k.type==="e"||k.type==="w"?C[1][1]-C[0][1]+r:r})):p.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function d(p,C,k){var T=p.__brush.emitter;return T&&(!k||!T.clean)?T:new h(p,C,k)}function h(p,C,k){this.that=p,this.args=C,this.state=p.__brush,this.active=0,this.clean=k}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(p,C){return this.starting?(this.starting=!1,this.emit("start",p,C)):this.emit("brush",p),this},brush:function(p,C){return this.emit("brush",p,C),this},end:function(p,C){return--this.active===0&&(delete this.state.emitter,this.emit("end",p,C)),this},emit:function(p,C,k){var T=Ae(this.that).datum();s.call(p,this.that,new zs(p,{sourceEvent:C,target:l,selection:e.output(this.state.selection),mode:k,dispatch:s}),T)}};function u(p){if(o&&!p.touches||!i.apply(this,arguments))return;var C=this,k=p.target.__data__.type,T=(a&&p.metaKey?k="overlay":k)==="selection"?dc:a&&p.altKey?Fi:Di,F=e===$s?null:wm[k],V=e===Ha?null:Sm[k],A=Ws(C),q=A.extent,Z=A.selection,Ee=q[0][0],ee,M,ye=q[0][1],X,J,He=q[1][0],te,ie,Me=q[1][1],j,xe,le=0,ce=0,ji,hi=F&&V&&a&&p.shiftKey,di,ui,ke=Array.from(p.touches||[p],I=>{let re=I.identifier;return I=ga(I,C),I.point0=I.slice(),I.identifier=re,I});Ai(C);var Et=d(C,arguments,!0).beforestart();if(k==="overlay"){Z&&(ji=!0);let I=[ke[0],ke[1]||ke[0]];A.selection=Z=[[ee=e===$s?Ee:De(I[0][0],I[1][0]),X=e===Ha?ye:De(I[0][1],I[1][1])],[te=e===$s?He:Le(I[0][0],I[1][0]),j=e===Ha?Me:Le(I[0][1],I[1][1])]],ke.length>1&&se(p)}else ee=Z[0][0],X=Z[0][1],te=Z[1][0],j=Z[1][1];M=ee,J=X,ie=te,xe=j;var w=Ae(C).attr("pointer-events","none"),R=w.selectAll(".overlay").attr("cursor",gt[k]);if(p.touches)Et.moved=v,Et.ended=U;else{var G=Ae(p.view).on("mousemove.brush",v,!0).on("mouseup.brush",U,!0);a&&G.on("keydown.brush",Oe,!0).on("keyup.brush",Ve,!0),Es(p.view)}c.call(C),Et.start(p,T.name);function v(I){for(let re of I.changedTouches||[I])for(let Ui of ke)Ui.identifier===re.identifier&&(Ui.cur=ga(re,C));if(hi&&!di&&!ui&&ke.length===1){let re=ke[0];uc(re.cur[0]-re[0])>uc(re.cur[1]-re[1])?ui=!0:di=!0}for(let re of ke)re.cur&&(re[0]=re.cur[0],re[1]=re.cur[1]);ji=!0,Na(I),se(I)}function se(I){let re=ke[0],Ui=re.point0;var xt;switch(le=re[0]-Ui[0],ce=re[1]-Ui[1],T){case Xs:case dc:{F&&(le=Le(Ee-ee,De(He-te,le)),M=ee+le,ie=te+le),V&&(ce=Le(ye-X,De(Me-j,ce)),J=X+ce,xe=j+ce);break}case Di:{ke[1]?(F&&(M=Le(Ee,De(He,ke[0][0])),ie=Le(Ee,De(He,ke[1][0])),F=1),V&&(J=Le(ye,De(Me,ke[0][1])),xe=Le(ye,De(Me,ke[1][1])),V=1)):(F<0?(le=Le(Ee-ee,De(He-ee,le)),M=ee+le,ie=te):F>0&&(le=Le(Ee-te,De(He-te,le)),M=ee,ie=te+le),V<0?(ce=Le(ye-X,De(Me-X,ce)),J=X+ce,xe=j):V>0&&(ce=Le(ye-j,De(Me-j,ce)),J=X,xe=j+ce));break}case Fi:{F&&(M=Le(Ee,De(He,ee-le*F)),ie=Le(Ee,De(He,te+le*F))),V&&(J=Le(ye,De(Me,X-ce*V)),xe=Le(ye,De(Me,j+ce*V)));break}}ie<M&&(F*=-1,xt=ee,ee=te,te=xt,xt=M,M=ie,ie=xt,k in pc&&R.attr("cursor",gt[k=pc[k]])),xe<J&&(V*=-1,xt=X,X=j,j=xt,xt=J,J=xe,xe=xt,k in gc&&R.attr("cursor",gt[k=gc[k]])),A.selection&&(Z=A.selection),di&&(M=Z[0][0],ie=Z[1][0]),ui&&(J=Z[0][1],xe=Z[1][1]),(Z[0][0]!==M||Z[0][1]!==J||Z[1][0]!==ie||Z[1][1]!==xe)&&(A.selection=[[M,J],[ie,xe]],c.call(C),Et.brush(I,T.name))}function U(I){if(hc(I),I.touches){if(I.touches.length)return;o&&clearTimeout(o),o=setTimeout(function(){o=null},500)}else Ms(I.view,ji),G.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);w.attr("pointer-events","all"),R.attr("cursor",gt.overlay),A.selection&&(Z=A.selection),Dm(Z)&&(A.selection=null,c.call(C)),Et.end(I,T.name)}function Oe(I){switch(I.keyCode){case 16:{hi=F&&V;break}case 18:{T===Di&&(F&&(te=ie-le*F,ee=M+le*F),V&&(j=xe-ce*V,X=J+ce*V),T=Fi,se(I));break}case 32:{(T===Di||T===Fi)&&(F<0?te=ie-le:F>0&&(ee=M-le),V<0?j=xe-ce:V>0&&(X=J-ce),T=Xs,R.attr("cursor",gt.selection),se(I));break}default:return}Na(I)}function Ve(I){switch(I.keyCode){case 16:{hi&&(di=ui=hi=!1,se(I));break}case 18:{T===Fi&&(F<0?te=ie:F>0&&(ee=M),V<0?j=xe:V>0&&(X=J),T=Di,se(I));break}case 32:{T===Xs&&(I.altKey?(F&&(te=ie-le*F,ee=M+le*F),V&&(j=xe-ce*V,X=J+ce*V),T=Fi):(F<0?te=ie:F>0&&(ee=M),V<0?j=xe:V>0&&(X=J),T=Di),R.attr("cursor",gt[k]),se(I));break}default:return}Na(I)}}function m(p){d(this,arguments).moved(p)}function f(p){d(this,arguments).ended(p)}function S(){var p=this.__brush||{selection:null};return p.extent=js(t.apply(this,arguments)),p.dim=e,p}return l.extent=function(p){return arguments.length?(t=typeof p=="function"?p:Ra(js(p)),l):t},l.filter=function(p){return arguments.length?(i=typeof p=="function"?p:Ra(!!p),l):i},l.touchable=function(p){return arguments.length?(n=typeof p=="function"?p:Ra(!!p),l):n},l.handleSize=function(p){return arguments.length?(r=+p,l):r},l.keyModifiers=function(p){return arguments.length?(a=!!p,l):a},l.on=function(){var p=s.on.apply(s,arguments);return p===s?l:p},l}function it(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Qs(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Xt(e){let t,i,n;e.length!==2?(t=it,i=(o,l)=>it(e(o),l),n=(o,l)=>e(o)-l):(t=e===it||e===Qs?e:Em,i=e,n=e);function a(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{let h=c+d>>>1;i(o[h],l)<0?c=h+1:d=h}while(c<d)}return c}function s(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{let h=c+d>>>1;i(o[h],l)<=0?c=h+1:d=h}while(c<d)}return c}function r(o,l,c=0,d=o.length){let h=a(o,l,c,d-1);return h>c&&n(o[h-1],l)>-n(o[h],l)?h-1:h}return{left:a,center:r,right:s}}function Em(){return 0}function Sn(e){return e===null?NaN:+e}var fc=Xt(it),_c=fc.right,Mm=fc.left,Om=Xt(Sn).center,kn=_c;var Ei=class extends Map{constructor(t,i=Im){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),t!=null)for(let[n,a]of t)this.set(n,a)}get(t){return super.get(xc(this,t))}has(t){return super.has(xc(this,t))}set(t,i){return super.set(Vm(this,t),i)}delete(t){return super.delete(Pm(this,t))}};function xc({_intern:e,_key:t},i){let n=t(i);return e.has(n)?e.get(n):i}function Vm({_intern:e,_key:t},i){let n=t(i);return e.has(n)?e.get(n):(e.set(n,i),i)}function Pm({_intern:e,_key:t},i){let n=t(i);return e.has(n)&&(i=e.get(n),e.delete(n)),i}function Im(e){return e!==null&&typeof e=="object"?e.valueOf():e}var Bm=Math.sqrt(50),Rm=Math.sqrt(10),Nm=Math.sqrt(2);function Ga(e,t,i){let n=(t-e)/Math.max(0,i),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),r=s>=Bm?10:s>=Rm?5:s>=Nm?2:1,o,l,c;return a<0?(c=Math.pow(10,-a)/r,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*r,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=i&&i<2?Ga(e,t,i*2):[o,l,c]}function Ya(e,t,i){if(t=+t,e=+e,i=+i,!(i>0))return[];if(e===t)return[e];let n=t<e,[a,s,r]=n?Ga(t,e,i):Ga(e,t,i);if(!(s>=a))return[];let o=s-a+1,l=new Array(o);if(n)if(r<0)for(let c=0;c<o;++c)l[c]=(s-c)/-r;else for(let c=0;c<o;++c)l[c]=(s-c)*r;else if(r<0)for(let c=0;c<o;++c)l[c]=(a+c)/-r;else for(let c=0;c<o;++c)l[c]=(a+c)*r;return l}function An(e,t,i){return t=+t,e=+e,i=+i,Ga(e,t,i)[2]}function Mi(e,t,i){t=+t,e=+e,i=+i;let n=t<e,a=n?An(t,e,i):An(e,t,i);return(n?-1:1)*(a<0?1/-a:a)}function qs(e,t,i=Sn){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+i(e[0],0,e);if(t>=1)return+i(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),r=+i(e[s],s,e),o=+i(e[s+1],s+1,e);return r+(o-r)*(a-s)}}function Oi(e,t,i){e=+e,t=+t,i=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+i;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/i))|0,s=new Array(a);++n<a;)s[n]=e+n*i;return s}function nt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var Zs=Symbol("implicit");function $t(){var e=new Ei,t=[],i=[],n=Zs;function a(s){let r=e.get(s);if(r===void 0){if(n!==Zs)return n;e.set(s,r=t.push(s)-1)}return i[r%i.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Ei;for(let r of s)e.has(r)||e.set(r,t.push(r)-1);return a},a.range=function(s){return arguments.length?(i=Array.from(s),a):i.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return $t(t,i).unknown(n)},nt.apply(a,arguments),a}function Vi(){var e=$t().unknown(void 0),t=e.domain,i=e.range,n=0,a=1,s,r,o=!1,l=0,c=0,d=.5;delete e.unknown;function h(){var u=t().length,m=a<n,f=m?a:n,S=m?n:a;s=(S-f)/Math.max(1,u-l+c*2),o&&(s=Math.floor(s)),f+=(S-f-s*(u-l))*d,r=s*(1-l),o&&(f=Math.round(f),r=Math.round(r));var p=Oi(u).map(function(C){return f+s*C});return i(m?p.reverse():p)}return e.domain=function(u){return arguments.length?(t(u),h()):t()},e.range=function(u){return arguments.length?([n,a]=u,n=+n,a=+a,h()):[n,a]},e.rangeRound=function(u){return[n,a]=u,n=+n,a=+a,o=!0,h()},e.bandwidth=function(){return r},e.step=function(){return s},e.round=function(u){return arguments.length?(o=!!u,h()):o},e.padding=function(u){return arguments.length?(l=Math.min(1,c=+u),h()):l},e.paddingInner=function(u){return arguments.length?(l=Math.min(1,u),h()):l},e.paddingOuter=function(u){return arguments.length?(c=+u,h()):c},e.align=function(u){return arguments.length?(d=Math.max(0,Math.min(1,u)),h()):d},e.copy=function(){return Vi(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(d)},nt.apply(h(),arguments)}function vc(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return vc(t())},e}function za(){return vc(Vi.apply(null,arguments).paddingInner(1))}function Ks(e){return function(){return e}}function Js(e){return+e}var yc=[0,1];function Pi(e){return e}function er(e,t){return(t-=e=+e)?function(i){return(i-e)/t}:Ks(isNaN(t)?NaN:.5)}function Gm(e,t){var i;return e>t&&(i=e,e=t,t=i),function(n){return Math.max(e,Math.min(t,n))}}function Ym(e,t,i){var n=e[0],a=e[1],s=t[0],r=t[1];return a<n?(n=er(a,n),s=i(r,s)):(n=er(n,a),s=i(s,r)),function(o){return s(n(o))}}function zm(e,t,i){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),r=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++r<n;)a[r]=er(e[r],e[r+1]),s[r]=i(t[r],t[r+1]);return function(o){var l=kn(e,o,1,n)-1;return s[l](a[l](o))}}function Xa(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Xm(){var e=yc,t=yc,i=mt,n,a,s,r=Pi,o,l,c;function d(){var u=Math.min(e.length,t.length);return r!==Pi&&(r=Gm(e[0],e[u-1])),o=u>2?zm:Ym,l=c=null,h}function h(u){return u==null||isNaN(u=+u)?s:(l||(l=o(e.map(n),t,i)))(n(r(u)))}return h.invert=function(u){return r(a((c||(c=o(t,e.map(n),Ce)))(u)))},h.domain=function(u){return arguments.length?(e=Array.from(u,Js),d()):e.slice()},h.range=function(u){return arguments.length?(t=Array.from(u),d()):t.slice()},h.rangeRound=function(u){return t=Array.from(u),i=Rs,d()},h.clamp=function(u){return arguments.length?(r=u?!0:Pi,d()):r!==Pi},h.interpolate=function(u){return arguments.length?(i=u,d()):i},h.unknown=function(u){return arguments.length?(s=u,h):s},function(u,m){return n=u,a=m,d()}}function Ln(){return Xm()(Pi,Pi)}function bc(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Wt(e,t){if((i=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var i,n=e.slice(0,i);return[n.length>1?n[0]+n.slice(2):n,+e.slice(i+1)]}function at(e){return e=Wt(Math.abs(e)),e?e[1]:NaN}function Tc(e,t){return function(i,n){for(var a=i.length,s=[],r=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(i.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[r=(r+1)%e.length];return s.reverse().join(t)}}function Cc(e){return function(t){return t.replace(/[0-9]/g,function(i){return e[+i]})}}var $m=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kt(e){if(!(t=$m.exec(e)))throw new Error("invalid format: "+e);var t;return new $a({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}kt.prototype=$a.prototype;function $a(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}$a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wc(e){e:for(var t=e.length,i=1,n=-1,a;i<t;++i)switch(e[i]){case".":n=a=i;break;case"0":n===0&&(n=i),a=i;break;default:if(!+e[i])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var tr;function Sc(e,t){var i=Wt(e,t);if(!i)return e+"";var n=i[0],a=i[1],s=a-(tr=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,r=n.length;return s===r?n:s>r?n+new Array(s-r+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Wt(e,Math.max(0,t+s-1))[0]}function ir(e,t){var i=Wt(e,t);if(!i)return e+"";var n=i[0],a=i[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}var nr={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:bc,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ir(e*100,t),r:ir,s:Sc,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ar(e){return e}var kc=Array.prototype.map,Ac=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Lc(e){var t=e.grouping===void 0||e.thousands===void 0?ar:Tc(kc.call(e.grouping,Number),e.thousands+""),i=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?ar:Cc(kc.call(e.numerals,String)),r=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"\u2212":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(h){h=kt(h);var u=h.fill,m=h.align,f=h.sign,S=h.symbol,p=h.zero,C=h.width,k=h.comma,T=h.precision,F=h.trim,V=h.type;V==="n"?(k=!0,V="g"):nr[V]||(T===void 0&&(T=12),F=!0,V="g"),(p||u==="0"&&m==="=")&&(p=!0,u="0",m="=");var A=S==="$"?i:S==="#"&&/[boxX]/.test(V)?"0"+V.toLowerCase():"",q=S==="$"?n:/[%p]/.test(V)?r:"",Z=nr[V],Ee=/[defgprs%]/.test(V);T=T===void 0?6:/[gprs]/.test(V)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function ee(M){var ye=A,X=q,J,He,te;if(V==="c")X=Z(M)+X,M="";else{M=+M;var ie=M<0||1/M<0;if(M=isNaN(M)?l:Z(Math.abs(M),T),F&&(M=wc(M)),ie&&+M==0&&f!=="+"&&(ie=!1),ye=(ie?f==="("?f:o:f==="-"||f==="("?"":f)+ye,X=(V==="s"?Ac[8+tr/3]:"")+X+(ie&&f==="("?")":""),Ee){for(J=-1,He=M.length;++J<He;)if(te=M.charCodeAt(J),48>te||te>57){X=(te===46?a+M.slice(J+1):M.slice(J))+X,M=M.slice(0,J);break}}}k&&!p&&(M=t(M,1/0));var Me=ye.length+M.length+X.length,j=Me<C?new Array(C-Me+1).join(u):"";switch(k&&p&&(M=t(j+M,j.length?C-X.length:1/0),j=""),m){case"<":M=ye+M+X+j;break;case"=":M=ye+j+M+X;break;case"^":M=j.slice(0,Me=j.length>>1)+ye+M+X+j.slice(Me);break;default:M=j+ye+M+X;break}return s(M)}return ee.toString=function(){return h+""},ee}function d(h,u){var m=c((h=kt(h),h.type="f",h)),f=Math.max(-8,Math.min(8,Math.floor(at(u)/3)))*3,S=Math.pow(10,-f),p=Ac[8+f/3];return function(C){return m(S*C)+p}}return{format:c,formatPrefix:d}}var Wa,ja,Ua;sr({thousands:",",grouping:[3],currency:["$",""]});function sr(e){return Wa=Lc(e),ja=Wa.format,Ua=Wa.formatPrefix,Wa}function rr(e){return Math.max(0,-at(Math.abs(e)))}function or(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(at(t)/3)))*3-at(Math.abs(e)))}function lr(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,at(t)-at(e))+1}function cr(e,t,i,n){var a=Mi(e,t,i),s;switch(n=kt(n??",f"),n.type){case"s":{var r=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=or(a,r))&&(n.precision=s),Ua(n,r)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=lr(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=rr(a))&&(n.precision=s-(n.type==="%")*2);break}}return ja(n)}function Wm(e){var t=e.domain;return e.ticks=function(i){var n=t();return Ya(n[0],n[n.length-1],i??10)},e.tickFormat=function(i,n){var a=t();return cr(a[0],a[a.length-1],i??10,n)},e.nice=function(i){i==null&&(i=10);var n=t(),a=0,s=n.length-1,r=n[a],o=n[s],l,c,d=10;for(o<r&&(c=r,r=o,o=c,c=a,a=s,s=c);d-- >0;){if(c=An(r,o,i),c===l)return n[a]=r,n[s]=o,t(n);if(c>0)r=Math.floor(r/c)*c,o=Math.ceil(o/c)*c;else if(c<0)r=Math.ceil(r*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function st(){var e=Ln();return e.copy=function(){return Xa(e,st())},nt.apply(e,arguments),Wm(e)}function hr(e,t){e=e.slice();var i=0,n=e.length-1,a=e[i],s=e[n],r;return s<a&&(r=i,i=n,n=r,r=a,a=s,s=r),e[i]=t.floor(a),e[n]=t.ceil(s),e}function Dn(){var e=[],t=[],i=[],n;function a(){var r=0,o=Math.max(1,t.length);for(i=new Array(o-1);++r<o;)i[r-1]=qs(e,r/o);return s}function s(r){return r==null||isNaN(r=+r)?n:t[kn(i,r)]}return s.invertExtent=function(r){var o=t.indexOf(r);return o<0?[NaN,NaN]:[o>0?i[o-1]:e[0],o<i.length?i[o]:e[e.length-1]]},s.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let o of r)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(it),a()},s.range=function(r){return arguments.length?(t=Array.from(r),a()):t.slice()},s.unknown=function(r){return arguments.length?(n=r,s):n},s.quantiles=function(){return i.slice()},s.copy=function(){return Dn().domain(e).range(t).unknown(n)},nt.apply(s,arguments)}var dr=new Date,ur=new Date;function K(e,t,i,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{let r=a(s),o=a.ceil(s);return s-r<o-s?r:o},a.offset=(s,r)=>(t(s=new Date(+s),r==null?1:Math.floor(r)),s),a.range=(s,r,o)=>{let l=[];if(s=a.ceil(s),o=o==null?1:Math.floor(o),!(s<r)||!(o>0))return l;let c;do l.push(c=new Date(+s)),t(s,o),e(s);while(c<s&&s<r);return l},a.filter=s=>K(r=>{if(r>=r)for(;e(r),!s(r);)r.setTime(r-1)},(r,o)=>{if(r>=r)if(o<0)for(;++o<=0;)for(;t(r,-1),!s(r););else for(;--o>=0;)for(;t(r,1),!s(r););}),i&&(a.count=(s,r)=>(dr.setTime(+s),ur.setTime(+r),e(dr),e(ur),Math.floor(i(dr,ur))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?r=>n(r)%s===0:r=>a.count(0,r)%s===0):a)),a}var Fn=K(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Fn.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?K(t=>{t.setTime(Math.floor(t/e)*e)},(t,i)=>{t.setTime(+t+i*e)},(t,i)=>(i-t)/e):Fn);var f1=Fn.range;var rt=K(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*1e3)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds()),Dc=rt.range;var Ii=K(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getMinutes()),jm=Ii.range,Qa=K(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes()),Um=Qa.range;var Bi=K(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getHours()),Qm=Bi.range,qa=K(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours()),qm=qa.range;var Ri=K(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),Zm=Ri.range,Fc=K(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1),Km=Fc.range,Za=K(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5)),Jm=Za.range;function Qt(e){return K(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,i)=>{t.setDate(t.getDate()+i*7)},(t,i)=>(i-t-(i.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5)}var qt=Qt(0),Mc=Qt(1),Oc=Qt(2),Vc=Qt(3),Pc=Qt(4),Ic=Qt(5),Bc=Qt(6),Rc=qt.range,ep=Mc.range,tp=Oc.range,ip=Vc.range,np=Pc.range,ap=Ic.range,sp=Bc.range;function Zt(e){return K(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,i)=>{t.setUTCDate(t.getUTCDate()+i*7)},(t,i)=>(i-t)/6048e5)}var Mn=Zt(0),Nc=Zt(1),Hc=Zt(2),Gc=Zt(3),Yc=Zt(4),zc=Zt(5),Xc=Zt(6),$c=Mn.range,rp=Nc.range,op=Hc.range,lp=Gc.range,cp=Yc.range,hp=zc.range,dp=Xc.range;var Ni=K(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),up=Ni.range,Ka=K(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),mp=Ka.range;var Kt=K(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Kt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:K(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,i)=>{t.setFullYear(t.getFullYear()+i*e)});var pp=Kt.range,On=K(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());On.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:K(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,i)=>{t.setUTCFullYear(t.getUTCFullYear()+i*e)});var gp=On.range;function jc(e,t,i,n,a,s){let r=[[rt,1,1e3],[rt,5,5*1e3],[rt,15,15*1e3],[rt,30,30*1e3],[s,1,6e4],[s,5,5*6e4],[s,15,15*6e4],[s,30,30*6e4],[a,1,36e5],[a,3,3*36e5],[a,6,6*36e5],[a,12,12*36e5],[n,1,864e5],[n,2,2*864e5],[i,1,6048e5],[t,1,2592e6],[t,3,3*2592e6],[e,1,31536e6]];function o(c,d,h){let u=d<c;u&&([c,d]=[d,c]);let m=h&&typeof h.range=="function"?h:l(c,d,h),f=m?m.range(c,+d+1):[];return u?f.reverse():f}function l(c,d,h){let u=Math.abs(d-c)/h,m=Xt(([,,p])=>p).right(r,u);if(m===r.length)return e.every(Mi(c/31536e6,d/31536e6,h));if(m===0)return Fn.every(Math.max(Mi(c,d,h),1));let[f,S]=r[u/r[m-1][2]<r[m][2]/u?m-1:m];return f.every(S)}return[o,l]}var[_p,xp]=jc(On,Ka,Mn,Za,qa,Qa),[mr,pr]=jc(Kt,Ni,qt,Ri,Bi,Ii);var gr=new Date,fr=new Date;function Fe(e,t,i,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=function(s){return e(s=new Date(+s)),s},a.ceil=function(s){return e(s=new Date(s-1)),t(s,1),e(s),s},a.round=function(s){var r=a(s),o=a.ceil(s);return s-r<o-s?r:o},a.offset=function(s,r){return t(s=new Date(+s),r==null?1:Math.floor(r)),s},a.range=function(s,r,o){var l=[],c;if(s=a.ceil(s),o=o==null?1:Math.floor(o),!(s<r)||!(o>0))return l;do l.push(c=new Date(+s)),t(s,o),e(s);while(c<s&&s<r);return l},a.filter=function(s){return Fe(function(r){if(r>=r)for(;e(r),!s(r);)r.setTime(r-1)},function(r,o){if(r>=r)if(o<0)for(;++o<=0;)for(;t(r,-1),!s(r););else for(;--o>=0;)for(;t(r,1),!s(r););})},i&&(a.count=function(s,r){return gr.setTime(+s),fr.setTime(+r),e(gr),e(fr),Math.floor(i(gr,fr))},a.every=function(s){return s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?function(r){return n(r)%s===0}:function(r){return a.count(0,r)%s===0}):a}),a}var Uc=Fe(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),Ja=Uc,bp=Uc.range;function Jt(e){return Fe(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,i){t.setDate(t.getDate()+i*7)},function(t,i){return(i-t-(i.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5})}var Vn=Jt(0),Hi=Jt(1),Qc=Jt(2),qc=Jt(3),At=Jt(4),Zc=Jt(5),Kc=Jt(6),Jc=Vn.range,Cp=Hi.range,wp=Qc.range,Sp=qc.range,kp=At.range,Ap=Zc.range,Lp=Kc.range;var _r=Fe(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});_r.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Fe(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,i){t.setFullYear(t.getFullYear()+i*e)})};var ei=_r,Dp=_r.range;var eh=Fe(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1}),es=eh,Fp=eh.range;function ti(e){return Fe(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,i){t.setUTCDate(t.getUTCDate()+i*7)},function(t,i){return(i-t)/6048e5})}var Pn=ti(0),Gi=ti(1),th=ti(2),ih=ti(3),Lt=ti(4),nh=ti(5),ah=ti(6),sh=Pn.range,Ep=Gi.range,Mp=th.range,Op=ih.range,Vp=Lt.range,Pp=nh.range,Ip=ah.range;var xr=Fe(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});xr.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Fe(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,i){t.setUTCFullYear(t.getUTCFullYear()+i*e)})};var ii=xr,Bp=xr.range;function vr(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yr(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function In(e,t,i){return{y:e,m:t,d:i,H:0,M:0,S:0,L:0}}function br(e){var t=e.dateTime,i=e.date,n=e.time,a=e.periods,s=e.days,r=e.shortDays,o=e.months,l=e.shortMonths,c=Bn(a),d=Rn(a),h=Bn(s),u=Rn(s),m=Bn(r),f=Rn(r),S=Bn(o),p=Rn(o),C=Bn(l),k=Rn(l),T={a:ie,A:Me,b:j,B:xe,c:null,d:dh,e:dh,f:rg,g:fg,G:xg,H:ng,I:ag,j:sg,L:fh,m:og,M:lg,p:le,q:ce,Q:ph,s:gh,S:cg,u:hg,U:dg,V:ug,w:mg,W:pg,x:null,X:null,y:gg,Y:_g,Z:vg,"%":mh},F={a:ji,A:hi,b:di,B:ui,c:null,d:uh,e:uh,f:Cg,g:Og,G:Pg,H:yg,I:bg,j:Tg,L:xh,m:wg,M:Sg,p:ke,q:Et,Q:ph,s:gh,S:kg,u:Ag,U:Lg,V:Dg,w:Fg,W:Eg,x:null,X:null,y:Mg,Y:Vg,Z:Ig,"%":mh},V={a:ee,A:M,b:ye,B:X,c:J,d:ch,e:ch,f:Jp,g:lh,G:oh,H:hh,I:hh,j:Qp,L:Kp,m:Up,M:qp,p:Ee,q:jp,Q:tg,s:ig,S:Zp,u:Yp,U:zp,V:Xp,w:Gp,W:$p,x:He,X:te,y:lh,Y:oh,Z:Wp,"%":eg};T.x=A(i,T),T.X=A(n,T),T.c=A(t,T),F.x=A(i,F),F.X=A(n,F),F.c=A(t,F);function A(w,R){return function(G){var v=[],se=-1,U=0,Oe=w.length,Ve,I,re;for(G instanceof Date||(G=new Date(+G));++se<Oe;)w.charCodeAt(se)===37&&(v.push(w.slice(U,se)),(I=rh[Ve=w.charAt(++se)])!=null?Ve=w.charAt(++se):I=Ve==="e"?" ":"0",(re=R[Ve])&&(Ve=re(G,I)),v.push(Ve),U=se+1);return v.push(w.slice(U,se)),v.join("")}}function q(w,R){return function(G){var v=In(1900,void 0,1),se=Z(v,w,G+="",0),U,Oe;if(se!=G.length)return null;if("Q"in v)return new Date(v.Q);if("s"in v)return new Date(v.s*1e3+("L"in v?v.L:0));if(R&&!("Z"in v)&&(v.Z=0),"p"in v&&(v.H=v.H%12+v.p*12),v.m===void 0&&(v.m="q"in v?v.q:0),"V"in v){if(v.V<1||v.V>53)return null;"w"in v||(v.w=1),"Z"in v?(U=yr(In(v.y,0,1)),Oe=U.getUTCDay(),U=Oe>4||Oe===0?Gi.ceil(U):Gi(U),U=es.offset(U,(v.V-1)*7),v.y=U.getUTCFullYear(),v.m=U.getUTCMonth(),v.d=U.getUTCDate()+(v.w+6)%7):(U=vr(In(v.y,0,1)),Oe=U.getDay(),U=Oe>4||Oe===0?Hi.ceil(U):Hi(U),U=Ja.offset(U,(v.V-1)*7),v.y=U.getFullYear(),v.m=U.getMonth(),v.d=U.getDate()+(v.w+6)%7)}else("W"in v||"U"in v)&&("w"in v||(v.w="u"in v?v.u%7:"W"in v?1:0),Oe="Z"in v?yr(In(v.y,0,1)).getUTCDay():vr(In(v.y,0,1)).getDay(),v.m=0,v.d="W"in v?(v.w+6)%7+v.W*7-(Oe+5)%7:v.w+v.U*7-(Oe+6)%7);return"Z"in v?(v.H+=v.Z/100|0,v.M+=v.Z%100,yr(v)):vr(v)}}function Z(w,R,G,v){for(var se=0,U=R.length,Oe=G.length,Ve,I;se<U;){if(v>=Oe)return-1;if(Ve=R.charCodeAt(se++),Ve===37){if(Ve=R.charAt(se++),I=V[Ve in rh?R.charAt(se++):Ve],!I||(v=I(w,G,v))<0)return-1}else if(Ve!=G.charCodeAt(v++))return-1}return v}function Ee(w,R,G){var v=c.exec(R.slice(G));return v?(w.p=d.get(v[0].toLowerCase()),G+v[0].length):-1}function ee(w,R,G){var v=m.exec(R.slice(G));return v?(w.w=f.get(v[0].toLowerCase()),G+v[0].length):-1}function M(w,R,G){var v=h.exec(R.slice(G));return v?(w.w=u.get(v[0].toLowerCase()),G+v[0].length):-1}function ye(w,R,G){var v=C.exec(R.slice(G));return v?(w.m=k.get(v[0].toLowerCase()),G+v[0].length):-1}function X(w,R,G){var v=S.exec(R.slice(G));return v?(w.m=p.get(v[0].toLowerCase()),G+v[0].length):-1}function J(w,R,G){return Z(w,t,R,G)}function He(w,R,G){return Z(w,i,R,G)}function te(w,R,G){return Z(w,n,R,G)}function ie(w){return r[w.getDay()]}function Me(w){return s[w.getDay()]}function j(w){return l[w.getMonth()]}function xe(w){return o[w.getMonth()]}function le(w){return a[+(w.getHours()>=12)]}function ce(w){return 1+~~(w.getMonth()/3)}function ji(w){return r[w.getUTCDay()]}function hi(w){return s[w.getUTCDay()]}function di(w){return l[w.getUTCMonth()]}function ui(w){return o[w.getUTCMonth()]}function ke(w){return a[+(w.getUTCHours()>=12)]}function Et(w){return 1+~~(w.getUTCMonth()/3)}return{format:function(w){var R=A(w+="",T);return R.toString=function(){return w},R},parse:function(w){var R=q(w+="",!1);return R.toString=function(){return w},R},utcFormat:function(w){var R=A(w+="",F);return R.toString=function(){return w},R},utcParse:function(w){var R=q(w+="",!0);return R.toString=function(){return w},R}}}var rh={"-":"",_:" ",0:"0"},be=/^\s*\d+/,Rp=/^%/,Np=/[\\^$*+?|[\]().{}]/g;function $(e,t,i){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<i?new Array(i-s+1).join(t)+a:a)}function Hp(e){return e.replace(Np,"\\$&")}function Bn(e){return new RegExp("^(?:"+e.map(Hp).join("|")+")","i")}function Rn(e){return new Map(e.map((t,i)=>[t.toLowerCase(),i]))}function Gp(e,t,i){var n=be.exec(t.slice(i,i+1));return n?(e.w=+n[0],i+n[0].length):-1}function Yp(e,t,i){var n=be.exec(t.slice(i,i+1));return n?(e.u=+n[0],i+n[0].length):-1}function zp(e,t,i){var n=be.exec(t.slice(i,i+2));return n?(e.U=+n[0],i+n[0].length):-1}function Xp(e,t,i){var n=be.exec(t.slice(i,i+2));return n?(e.V=+n[0],i+n[0].length):-1}function $p(e,t,i){var n=be.exec(t.slice(i,i+2));return n?(e.W=+n[0],i+n[0].length):-1}function oh(e,t,i){var n=be.exec(t.slice(i,i+4));return n?(e.y=+n[0],i+n[0].length):-1}function lh(e,t,i){var n=be.exec(t.slice(i,i+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function Wp(e,t,i){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(i,i+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function jp(e,t,i){var n=be.exec(t.slice(i,i+1));return n?(e.q=n[0]*3-3,i+n[0].length):-1}function Up(e,t,i){var n=be.exec(t.slice(i,i+2));return n?(e.m=n[0]-1,i+n[0].length):-1}function ch(e,t,i){var n=be.exec(t.slice(i,i+2));return n?(e.d=+n[0],i+n[0].length):-1}function Qp(e,t,i){var n=be.exec(t.slice(i,i+3));return n?(e.m=0,e.d=+n[0],i+n[0].length):-1}function hh(e,t,i){var n=be.exec(t.slice(i,i+2));return n?(e.H=+n[0],i+n[0].length):-1}function qp(e,t,i){var n=be.exec(t.slice(i,i+2));return n?(e.M=+n[0],i+n[0].length):-1}function Zp(e,t,i){var n=be.exec(t.slice(i,i+2));return n?(e.S=+n[0],i+n[0].length):-1}function Kp(e,t,i){var n=be.exec(t.slice(i,i+3));return n?(e.L=+n[0],i+n[0].length):-1}function Jp(e,t,i){var n=be.exec(t.slice(i,i+6));return n?(e.L=Math.floor(n[0]/1e3),i+n[0].length):-1}function eg(e,t,i){var n=Rp.exec(t.slice(i,i+1));return n?i+n[0].length:-1}function tg(e,t,i){var n=be.exec(t.slice(i));return n?(e.Q=+n[0],i+n[0].length):-1}function ig(e,t,i){var n=be.exec(t.slice(i));return n?(e.s=+n[0],i+n[0].length):-1}function dh(e,t){return $(e.getDate(),t,2)}function ng(e,t){return $(e.getHours(),t,2)}function ag(e,t){return $(e.getHours()%12||12,t,2)}function sg(e,t){return $(1+Ja.count(ei(e),e),t,3)}function fh(e,t){return $(e.getMilliseconds(),t,3)}function rg(e,t){return fh(e,t)+"000"}function og(e,t){return $(e.getMonth()+1,t,2)}function lg(e,t){return $(e.getMinutes(),t,2)}function cg(e,t){return $(e.getSeconds(),t,2)}function hg(e){var t=e.getDay();return t===0?7:t}function dg(e,t){return $(Vn.count(ei(e)-1,e),t,2)}function _h(e){var t=e.getDay();return t>=4||t===0?At(e):At.ceil(e)}function ug(e,t){return e=_h(e),$(At.count(ei(e),e)+(ei(e).getDay()===4),t,2)}function mg(e){return e.getDay()}function pg(e,t){return $(Hi.count(ei(e)-1,e),t,2)}function gg(e,t){return $(e.getFullYear()%100,t,2)}function fg(e,t){return e=_h(e),$(e.getFullYear()%100,t,2)}function _g(e,t){return $(e.getFullYear()%1e4,t,4)}function xg(e,t){var i=e.getDay();return e=i>=4||i===0?At(e):At.ceil(e),$(e.getFullYear()%1e4,t,4)}function vg(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$(t/60|0,"0",2)+$(t%60,"0",2)}function uh(e,t){return $(e.getUTCDate(),t,2)}function yg(e,t){return $(e.getUTCHours(),t,2)}function bg(e,t){return $(e.getUTCHours()%12||12,t,2)}function Tg(e,t){return $(1+es.count(ii(e),e),t,3)}function xh(e,t){return $(e.getUTCMilliseconds(),t,3)}function Cg(e,t){return xh(e,t)+"000"}function wg(e,t){return $(e.getUTCMonth()+1,t,2)}function Sg(e,t){return $(e.getUTCMinutes(),t,2)}function kg(e,t){return $(e.getUTCSeconds(),t,2)}function Ag(e){var t=e.getUTCDay();return t===0?7:t}function Lg(e,t){return $(Pn.count(ii(e)-1,e),t,2)}function vh(e){var t=e.getUTCDay();return t>=4||t===0?Lt(e):Lt.ceil(e)}function Dg(e,t){return e=vh(e),$(Lt.count(ii(e),e)+(ii(e).getUTCDay()===4),t,2)}function Fg(e){return e.getUTCDay()}function Eg(e,t){return $(Gi.count(ii(e)-1,e),t,2)}function Mg(e,t){return $(e.getUTCFullYear()%100,t,2)}function Og(e,t){return e=vh(e),$(e.getUTCFullYear()%100,t,2)}function Vg(e,t){return $(e.getUTCFullYear()%1e4,t,4)}function Pg(e,t){var i=e.getUTCDay();return e=i>=4||i===0?Lt(e):Lt.ceil(e),$(e.getUTCFullYear()%1e4,t,4)}function Ig(){return"+0000"}function mh(){return"%"}function ph(e){return+e}function gh(e){return Math.floor(+e/1e3)}var Yi,ts,yh,bh,Th;Tr({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Tr(e){return Yi=br(e),ts=Yi.format,yh=Yi.parse,bh=Yi.utcFormat,Th=Yi.utcParse,Yi}function Bg(e){return new Date(e)}function Rg(e){return e instanceof Date?+e:+new Date(+e)}function Ch(e,t,i,n,a,s,r,o,l,c){var d=Ln(),h=d.invert,u=d.domain,m=c(".%L"),f=c(":%S"),S=c("%I:%M"),p=c("%I %p"),C=c("%a %d"),k=c("%b %d"),T=c("%B"),F=c("%Y");function V(A){return(l(A)<A?m:o(A)<A?f:r(A)<A?S:s(A)<A?p:n(A)<A?a(A)<A?C:k:i(A)<A?T:F)(A)}return d.invert=function(A){return new Date(h(A))},d.domain=function(A){return arguments.length?u(Array.from(A,Rg)):u().map(Bg)},d.ticks=function(A){var q=u();return e(q[0],q[q.length-1],A??10)},d.tickFormat=function(A,q){return q==null?V:c(q)},d.nice=function(A){var q=u();return(!A||typeof A.range!="function")&&(A=t(q[0],q[q.length-1],A??10)),A?u(hr(q,A)):d},d.copy=function(){return Xa(d,Ch(e,t,i,n,a,s,r,o,l,c))},d}function Nn(){return nt.apply(Ch(mr,pr,Kt,Ni,qt,Ri,Bi,Ii,rt,ts).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _e(e){return function(){return e}}var Cr=Math.PI,wr=2*Cr,ni=1e-6,Ng=wr-ni;function wh(e){this._+=e[0];for(let t=1,i=e.length;t<i;++t)this._+=arguments[t]+e[t]}function Hg(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return wh;let i=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*i)/i+n[a]}}var ai=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?wh:Hg(t)}moveTo(t,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,i){this._append`L${this._x1=+t},${this._y1=+i}`}quadraticCurveTo(t,i,n,a){this._append`Q${+t},${+i},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,i,n,a,s,r){this._append`C${+t},${+i},${+n},${+a},${this._x1=+s},${this._y1=+r}`}arcTo(t,i,n,a,s){if(t=+t,i=+i,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let r=this._x1,o=this._y1,l=n-t,c=a-i,d=r-t,h=o-i,u=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=i}`;else if(u>ni)if(!(Math.abs(h*l-c*d)>ni)||!s)this._append`L${this._x1=t},${this._y1=i}`;else{let m=n-r,f=a-o,S=l*l+c*c,p=m*m+f*f,C=Math.sqrt(S),k=Math.sqrt(u),T=s*Math.tan((Cr-Math.acos((S+u-p)/(2*C*k)))/2),F=T/k,V=T/C;Math.abs(F-1)>ni&&this._append`L${t+F*d},${i+F*h}`,this._append`A${s},${s},0,0,${+(h*m>d*f)},${this._x1=t+V*l},${this._y1=i+V*c}`}}arc(t,i,n,a,s,r){if(t=+t,i=+i,n=+n,r=!!r,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,d=i+l,h=1^r,u=r?a-s:s-a;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>ni||Math.abs(this._y1-d)>ni)&&this._append`L${c},${d}`,n&&(u<0&&(u=u%wr+wr),u>Ng?this._append`A${n},${n},0,1,${h},${t-o},${i-l}A${n},${n},0,1,${h},${this._x1=c},${this._y1=d}`:u>ni&&this._append`A${n},${n},0,${+(u>=Cr)},${h},${this._x1=t+n*Math.cos(s)},${this._y1=i+n*Math.sin(s)}`)}rect(t,i,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}};function Sh(){return new ai}Sh.prototype=ai.prototype;function is(e){let t=3;return e.digits=function(i){if(!arguments.length)return t;if(i==null)t=null;else{let n=Math.floor(i);if(!(n>=0))throw new RangeError(`invalid digits: ${i}`);t=n}return e},()=>new ai(t)}var YS=Array.prototype.slice;function ns(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function kh(e){this._context=e}kh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function si(e){return new kh(e)}function as(e){return e[0]}function ss(e){return e[1]}function Hn(e,t){var i=_e(!0),n=null,a=si,s=null,r=is(o);e=typeof e=="function"?e:e===void 0?as:_e(e),t=typeof t=="function"?t:t===void 0?ss:_e(t);function o(l){var c,d=(l=ns(l)).length,h,u=!1,m;for(n==null&&(s=a(m=r())),c=0;c<=d;++c)!(c<d&&i(h=l[c],c,l))===u&&((u=!u)?s.lineStart():s.lineEnd()),u&&s.point(+e(h,c,l),+t(h,c,l));if(m)return s=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:_e(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:_e(+l),o):t},o.defined=function(l){return arguments.length?(i=typeof l=="function"?l:_e(!!l),o):i},o.curve=function(l){return arguments.length?(a=l,n!=null&&(s=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=s=null:s=a(n=l),o):n},o}function rs(e,t,i){var n=null,a=_e(!0),s=null,r=si,o=null,l=is(c);e=typeof e=="function"?e:e===void 0?as:_e(+e),t=typeof t=="function"?t:t===void 0?_e(0):_e(+t),i=typeof i=="function"?i:i===void 0?ss:_e(+i);function c(h){var u,m,f,S=(h=ns(h)).length,p,C=!1,k,T=new Array(S),F=new Array(S);for(s==null&&(o=r(k=l())),u=0;u<=S;++u){if(!(u<S&&a(p=h[u],u,h))===C)if(C=!C)m=u,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),f=u-1;f>=m;--f)o.point(T[f],F[f]);o.lineEnd(),o.areaEnd()}C&&(T[u]=+e(p,u,h),F[u]=+t(p,u,h),o.point(n?+n(p,u,h):T[u],i?+i(p,u,h):F[u]))}if(k)return o=null,k+""||null}function d(){return Hn().defined(a).curve(r).context(s)}return c.x=function(h){return arguments.length?(e=typeof h=="function"?h:_e(+h),n=null,c):e},c.x0=function(h){return arguments.length?(e=typeof h=="function"?h:_e(+h),c):e},c.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:_e(+h),c):n},c.y=function(h){return arguments.length?(t=typeof h=="function"?h:_e(+h),i=null,c):t},c.y0=function(h){return arguments.length?(t=typeof h=="function"?h:_e(+h),c):t},c.y1=function(h){return arguments.length?(i=h==null?null:typeof h=="function"?h:_e(+h),c):i},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(i)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(h){return arguments.length?(a=typeof h=="function"?h:_e(!!h),c):a},c.curve=function(h){return arguments.length?(r=h,s!=null&&(o=r(s)),c):r},c.context=function(h){return arguments.length?(h==null?s=o=null:o=r(s=h),c):s},c}var Hh=vd(Lh(),1);var jg=["caretElm"],Ug=e=>({model:e});function Qg(e,t){}function qg(e,t){if(e&1&&(_(0,"span"),P(1,Qg,0,0,"ng-template",5),x()),e&2){let i=b();g(),y("ngTemplateOutlet",i.template)("ngTemplateOutletContext",vs(2,Ug,i.context))}}function Zg(e,t){if(e&1&&Y(0,"span",6),e&2){let i=b();y("innerHTML",i.title,qr)}}function Kg(e,t){if(e&1&&(_(0,"header",4)(1,"span",5),z(2),x()()),e&2){let i=b();g(2),$e(i.title)}}function Jg(e,t){if(e&1){let i=Be();_(0,"li",6)(1,"ngx-charts-legend-entry",7),Q("select",function(a){ne(i);let s=b();return ae(s.labelClick.emit(a))})("activate",function(a){ne(i);let s=b();return ae(s.activate(a))})("deactivate",function(a){ne(i);let s=b();return ae(s.deactivate(a))}),x()()}if(e&2){let i=t.$implicit,n=b();g(),y("label",i.label)("formattedLabel",i.formattedLabel)("color",i.color)("isActive",n.isActive(i))}}var Gh=["*"];function ef(e,t){if(e&1&&Y(0,"ngx-charts-scale-legend",4),e&2){let i=b();y("horizontal",i.legendOptions&&i.legendOptions.position===i.LegendPosition.Below)("valueRange",i.legendOptions.domain)("colors",i.legendOptions.colors)("height",i.view[1])("width",i.legendWidth)}}function tf(e,t){if(e&1){let i=Be();_(0,"ngx-charts-legend",5),Q("labelClick",function(a){ne(i);let s=b();return ae(s.legendLabelClick.emit(a))})("labelActivate",function(a){ne(i);let s=b();return ae(s.legendLabelActivate.emit(a))})("labelDeactivate",function(a){ne(i);let s=b();return ae(s.legendLabelDeactivate.emit(a))}),x()}if(e&2){let i=b();y("horizontal",i.legendOptions&&i.legendOptions.position===i.LegendPosition.Below)("data",i.legendOptions.domain)("title",i.legendOptions.title)("colors",i.legendOptions.colors)("height",i.view[1])("width",i.legendWidth)("activeEntries",i.activeEntries)}}var nf=["ngx-charts-axis-label",""],Yh=["ticksel"],af=["ngx-charts-x-axis-ticks",""];function sf(e,t){e&1&&(L(),gs(0))}function rf(e,t){if(e&1&&(L(),_(0,"tspan",10),z(1),x()),e&2){let i=t.$implicit,n=t.index;B("y",n*12),g(),ht(" ",i," ")}}function of(e,t){if(e&1&&(L(),pi(0),P(1,rf,2,2,"tspan",9),gi()),e&2){let i=t.ngIf;g(),y("ngForOf",i)}}function lf(e,t){if(e&1&&P(0,of,2,1,"ng-container",6),e&2){let i=b(2).$implicit,n=b();y("ngIf",n.tickChunks(i))}}function cf(e,t){if(e&1&&z(0),e&2){let i=b().ngIf,n=b(2);ht(" ",n.tickTrim(i)," ")}}function hf(e,t){if(e&1&&(L(),pi(0),_(1,"title"),z(2),x(),_(3,"text",7),P(4,sf,1,0,"ng-container",8),x(),P(5,lf,1,1,"ng-template",null,1,fi)(7,cf,1,1,"ng-template",null,2,fi),gi()),e&2){let i=t.ngIf,n=Vt(6),a=Vt(8),s=b(2);g(2),$e(i),g(),B("text-anchor",s.textAnchor)("transform",s.textTransform),g(),y("ngIf",s.isWrapTicksSupported)("ngIfThen",n)("ngIfElse",a)}}function df(e,t){if(e&1&&(L(),_(0,"g",5),P(1,hf,9,6,"ng-container",6),x()),e&2){let i=t.$implicit,n=b();B("transform",n.tickTransform(i)),g(),y("ngIf",n.tickFormat(i))}}function uf(e,t){if(e&1&&(L(),_(0,"g"),Y(1,"line",11),x()),e&2){let i=b(2);B("transform",i.gridLineTransform()),g(),B("y1",-i.gridLineHeight)}}function mf(e,t){if(e&1&&(L(),_(0,"g"),P(1,uf,2,2,"g",6),x()),e&2){let i=t.$implicit,n=b();B("transform",n.tickTransform(i)),g(),y("ngIf",n.showGridLines)}}var pf=["ngx-charts-x-axis",""];function gf(e,t){if(e&1){let i=Be();L(),_(0,"g",2),Q("dimensionsChanged",function(a){ne(i);let s=b();return ae(s.emitTicksHeight(a))}),x()}if(e&2){let i=b();y("trimTicks",i.trimTicks)("rotateTicks",i.rotateTicks)("maxTickLength",i.maxTickLength)("tickFormatting",i.tickFormatting)("tickArguments",i.tickArguments)("tickStroke",i.tickStroke)("scale",i.xScale)("orient",i.xOrient)("showGridLines",i.showGridLines)("gridLineHeight",i.dims.height)("width",i.dims.width)("tickValues",i.ticks)("wrapTicks",i.wrapTicks)}}function ff(e,t){if(e&1&&(L(),Y(0,"g",3)),e&2){let i=b();y("label",i.labelText)("offset",i.labelOffset)("orient",i.orientation.Bottom)("height",i.dims.height)("width",i.dims.width)}}var _f=["ngx-charts-y-axis-ticks",""];function xf(e,t){e&1&&(L(),gs(0))}function vf(e,t){if(e&1&&(L(),_(0,"tspan",12),z(1),x()),e&2){let i=t.$implicit,n=t.index,a=b(6);B("y",n*(8+a.tickSpacing)),g(),ht(" ",i," ")}}function yf(e,t){if(e&1&&(L(),pi(0),P(1,vf,2,2,"tspan",11),gi()),e&2){let i=b().ngIf;g(),y("ngForOf",i)}}function bf(e,t){if(e&1&&(L(),pi(0),P(1,yf,2,1,"ng-container",10),gi()),e&2){let i=t.ngIf;b(2);let n=Vt(8);g(),y("ngIf",i.length>1)("ngIfElse",n)}}function Tf(e,t){if(e&1&&P(0,bf,2,2,"ng-container",7),e&2){let i=b(2).$implicit,n=b();y("ngIf",n.tickChunks(i))}}function Cf(e,t){if(e&1&&z(0),e&2){let i=b().ngIf,n=b(2);ht(" ",n.tickTrim(i)," ")}}function wf(e,t){if(e&1&&(L(),pi(0),_(1,"title"),z(2),x(),_(3,"text",8),P(4,xf,1,0,"ng-container",9),x(),P(5,Tf,1,1,"ng-template",null,1,fi)(7,Cf,1,1,"ng-template",null,2,fi),gi()),e&2){let i=t.ngIf,n=Vt(6),a=Vt(8),s=b(2);g(2),$e(i),g(),Xe("font-size","12px"),B("dy",s.dy)("x",s.x1)("y",s.y1)("text-anchor",s.textAnchor),g(),y("ngIf",s.wrapTicks)("ngIfThen",n)("ngIfElse",a)}}function Sf(e,t){if(e&1&&(L(),_(0,"g",6),P(1,wf,9,10,"ng-container",7),x()),e&2){let i=t.$implicit,n=b();B("transform",n.transform(i)),g(),y("ngIf",n.tickFormat(i))}}function kf(e,t){if(e&1&&(L(),Y(0,"path",13)),e&2){let i=b();B("d",i.referenceAreaPath)("transform",i.gridLineTransform())}}function Af(e,t){if(e&1&&(L(),Y(0,"line",15)),e&2){let i=b(3);B("x2",i.gridLineWidth)}}function Lf(e,t){if(e&1&&(L(),Y(0,"line",15)),e&2){let i=b(3);B("x2",-i.gridLineWidth)}}function Df(e,t){if(e&1&&(L(),_(0,"g"),P(1,Af,1,1,"line",14)(2,Lf,1,1,"line",14),x()),e&2){let i=b(2);B("transform",i.gridLineTransform()),g(),y("ngIf",i.orient===i.Orientation.Left),g(),y("ngIf",i.orient===i.Orientation.Right)}}function Ff(e,t){if(e&1&&(L(),_(0,"g"),P(1,Df,3,3,"g",7),x()),e&2){let i=t.$implicit,n=b();B("transform",n.transform(i)),g(),y("ngIf",n.showGridLines)}}function Ef(e,t){if(e&1&&(L(),_(0,"g")(1,"title"),z(2),x(),_(3,"text",17),z(4),x()()),e&2){let i=b(2).$implicit,n=b();g(2),$e(n.tickTrim(n.tickFormat(i.value))),g(),B("dy",n.dy)("y",-6)("x",n.gridLineWidth)("text-anchor",n.textAnchor),g(),ht(" ",i.name," ")}}function Mf(e,t){if(e&1&&(L(),_(0,"g"),Y(1,"line",16),P(2,Ef,5,6,"g",7),x()),e&2){let i=b().$implicit,n=b();B("transform",n.transform(i.value)),g(),B("x2",n.gridLineWidth)("transform",n.gridLineTransform()),g(),y("ngIf",n.showRefLabels)}}function Of(e,t){if(e&1&&(L(),_(0,"g"),P(1,Mf,3,4,"g",7),x()),e&2){let i=b();g(),y("ngIf",i.showRefLines)}}var Vf=["ngx-charts-y-axis",""];function Pf(e,t){if(e&1){let i=Be();L(),_(0,"g",2),Q("dimensionsChanged",function(a){ne(i);let s=b();return ae(s.emitTicksWidth(a))}),x()}if(e&2){let i=b();y("trimTicks",i.trimTicks)("maxTickLength",i.maxTickLength)("tickFormatting",i.tickFormatting)("tickArguments",i.tickArguments)("tickValues",i.ticks)("tickStroke",i.tickStroke)("scale",i.yScale)("orient",i.yOrient)("showGridLines",i.showGridLines)("gridLineWidth",i.dims.width)("referenceLines",i.referenceLines)("showRefLines",i.showRefLines)("showRefLabels",i.showRefLabels)("height",i.dims.height)("wrapTicks",i.wrapTicks)}}function If(e,t){if(e&1&&(L(),Y(0,"g",3)),e&2){let i=b();y("label",i.labelText)("offset",i.labelOffset)("orient",i.yOrient)("height",i.dims.height)("width",i.dims.width)}}var Bf=["ngx-charts-svg-linear-gradient",""];function Rf(e,t){if(e&1&&(L(),Y(0,"stop")),e&2){let i=t.$implicit;Xe("stop-color",i.color)("stop-opacity",i.opacity),B("offset",i.offset+"%")}}var Nf=["ngx-charts-circle",""],Hf=["ngx-charts-circle-series",""],Gf=e=>({name:e});function Yf(e,t){if(e&1&&(L(),Y(0,"rect",4)),e&2){let i=b(2);y("@animationState","active"),B("x",i.circle.cx-i.circle.radius)("y",i.circle.cy)("width",i.circle.radius*2)("height",i.circle.height)("fill",i.gradientFill)}}function zf(e,t){if(e&1&&(L(),Y(0,"rect",4)),e&2){let i=b(2);B("x",i.circle.cx-i.circle.radius)("y",i.circle.cy)("width",i.circle.radius*2)("height",i.circle.height)("fill",i.gradientFill)}}function Xf(e,t){if(e&1){let i=Be();L(),_(0,"g")(1,"defs"),Y(2,"g",1),x(),P(3,Yf,1,6,"rect",2)(4,zf,1,5,"rect",2),_(5,"g",3),Q("select",function(){ne(i);let a=b();return ae(a.onClick(a.circle.data))})("activate",function(){ne(i);let a=b();return ae(a.activateCircle())})("deactivate",function(){ne(i);let a=b();return ae(a.deactivateCircle())}),x()()}if(e&2){let i=b();g(2),y("orientation",i.barOrientation.Vertical)("name",i.gradientId)("stops",i.circle.gradientStops),g(),y("ngIf",!i.isSSR&&i.barVisible&&i.type==="standard"),g(),y("ngIf",i.isSSR&&i.barVisible&&i.type==="standard"),g(),Ke("active",i.isActive(vs(20,Gf,i.circle.seriesName))),y("cx",i.circle.cx)("cy",i.circle.cy)("r",i.circle.radius)("fill",i.circle.color)("pointerEvents",i.circle.value===0?"none":"all")("data",i.circle.value)("classNames",i.circle.classNames)("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.placementTypes.Top)("tooltipType",i.styleTypes.tooltip)("tooltipTitle",i.tooltipTemplate?void 0:i.getTooltipText(i.circle))("tooltipTemplate",i.tooltipTemplate)("tooltipContext",i.circle.data)}}var $f=["ngx-charts-area",""];function Wf(e,t){if(e&1&&(L(),_(0,"defs"),Y(1,"g",2),x()),e&2){let i=b();g(),y("orientation",i.barOrientation.Vertical)("name",i.gradientId)("stops",i.gradientStops)}}var jf=["tooltipAnchor"],Uf=["ngx-charts-tooltip-area",""];function Qf(e,t){if(e&1&&(_(0,"div",6),Y(1,"span",7),z(2),x()),e&2){let i=t.$implicit,n=b(2);g(),Xe("background-color",i.color),g(),ht(" ",n.getToolTipText(i)," ")}}function qf(e,t){if(e&1&&(_(0,"div",4),P(1,Qf,3,3,"div",5),x()),e&2){let i=t.model;g(),y("ngForOf",i)}}var Zf=["ngx-charts-timeline",""];var Kf=["tooltipTemplate"],Jf=["seriesTooltipTemplate"],zh=(e,t)=>[e,t];var e0=`.ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .node,.ngx-charts .link,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .node.active,.ngx-charts .node:hover,.ngx-charts .link.active,.ngx-charts .link:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .node:focus,.ngx-charts .link:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .node.hidden,.ngx-charts .link.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}
`;var t0=["ngx-charts-line",""];function i0(e,t){if(e&1&&(L(),_(0,"g"),Y(1,"path",1),x()),e&2){let i=b();g(),y("@animationState","active"),B("d",i.initialPath)("fill",i.fill)("stroke",i.stroke)}}function n0(e,t){if(e&1&&(L(),_(0,"g"),Y(1,"path",1),x()),e&2){let i=b();g(),B("d",i.initialPath)("fill",i.fill)("stroke",i.stroke)}}var a0=["ngx-charts-line-series",""];function s0(e,t){if(e&1&&(L(),Y(0,"g",4)),e&2){let i=b();y("orientation",i.barOrientation.Vertical)("name",i.gradientId)("stops",i.gradientStops)}}function r0(e,t){if(e&1&&(L(),Y(0,"g",5)),e&2){let i=b();Ke("active",i.isActive(i.data))("inactive",i.isInactive(i.data)),y("data",i.data)("path",i.outerPath)("fill",i.hasGradient?i.gradientUrl:i.colors.getColor(i.data.name))("opacity",i.rangeFillOpacity)("animations",i.animations)}}function o0(e,t){if(e&1){let i=Be();L(),_(0,"g",7),Q("dimensionsChanged",function(a){ne(i);let s=b();return ae(s.updateXAxisHeight(a))}),x()}if(e&2){let i=b();y("xScale",i.xScale)("dims",i.dims)("showGridLines",i.showGridLines)("showLabel",i.showXAxisLabel)("labelText",i.xAxisLabel)("trimTicks",i.trimXAxisTicks)("rotateTicks",i.rotateXAxisTicks)("maxTickLength",i.maxXAxisTickLength)("tickFormatting",i.xAxisTickFormatting)("ticks",i.xAxisTicks)("wrapTicks",i.wrapTicks)}}function l0(e,t){if(e&1){let i=Be();L(),_(0,"g",8),Q("dimensionsChanged",function(a){ne(i);let s=b();return ae(s.updateYAxisWidth(a))}),x()}if(e&2){let i=b();y("yScale",i.yScale)("dims",i.dims)("showGridLines",i.showGridLines)("showLabel",i.showYAxisLabel)("labelText",i.yAxisLabel)("trimTicks",i.trimYAxisTicks)("maxTickLength",i.maxYAxisTickLength)("tickFormatting",i.yAxisTickFormatting)("ticks",i.yAxisTicks)("referenceLines",i.referenceLines)("showRefLines",i.showRefLines)("showRefLabels",i.showRefLabels)("wrapTicks",i.wrapTicks)}}function c0(e,t){if(e&1&&(L(),_(0,"g"),Y(1,"g",10),x()),e&2){let i=t.$implicit,n=b(2);y("@animationState","active"),g(),y("xScale",n.xScale)("yScale",n.yScale)("colors",n.colors)("data",i)("activeEntries",n.activeEntries)("scaleType",n.scaleType)("curve",n.curve)("rangeFillOpacity",n.rangeFillOpacity)("hasRange",n.hasRange)("animations",n.animations)}}function h0(e,t){if(e&1&&(L(),_(0,"g"),P(1,c0,2,11,"g",9),x()),e&2){let i=b();g(),y("ngForOf",i.results)("ngForTrackBy",i.trackBy)}}function d0(e,t){if(e&1&&(L(),_(0,"g"),Y(1,"g",10),x()),e&2){let i=t.$implicit,n=b(2);g(),y("xScale",n.xScale)("yScale",n.yScale)("colors",n.colors)("data",i)("activeEntries",n.activeEntries)("scaleType",n.scaleType)("curve",n.curve)("rangeFillOpacity",n.rangeFillOpacity)("hasRange",n.hasRange)("animations",n.animations)}}function u0(e,t){if(e&1&&(L(),_(0,"g"),P(1,d0,2,10,"g",9),x()),e&2){let i=b();g(),y("ngForOf",i.results)("ngForTrackBy",i.trackBy)}}function m0(e,t){if(e&1){let i=Be();L(),_(0,"g")(1,"g",14),Q("select",function(a){ne(i);let s=b(2);return ae(s.onClick(a))})("activate",function(a){ne(i);let s=b(2);return ae(s.onActivate(a))})("deactivate",function(a){ne(i);let s=b(2);return ae(s.onDeactivate(a))}),x()()}if(e&2){let i=t.$implicit,n=b(2);g(),y("xScale",n.xScale)("yScale",n.yScale)("colors",n.colors)("data",i)("scaleType",n.scaleType)("visibleValue",n.hoveredVertical)("activeEntries",n.activeEntries)("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.tooltipTemplate)}}function p0(e,t){if(e&1){let i=Be();L(),_(0,"g",11),Q("mouseleave",function(){ne(i);let a=b();return ae(a.hideCircles())}),_(1,"g",12),Q("hover",function(a){ne(i);let s=b();return ae(s.updateHoveredVertical(a))}),x(),P(2,m0,2,9,"g",13),x()}if(e&2){let i=b();g(),y("dims",i.dims)("xSet",i.xSet)("xScale",i.xScale)("yScale",i.yScale)("results",i.results)("colors",i.colors)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.seriesTooltipTemplate),g(),y("ngForOf",i.results)}}function g0(e,t){if(e&1&&(L(),_(0,"g"),Y(1,"g",16),x()),e&2){let i=t.$implicit,n=b(2);g(),y("xScale",n.timelineXScale)("yScale",n.timelineYScale)("colors",n.colors)("data",i)("scaleType",n.scaleType)("curve",n.curve)("hasRange",n.hasRange)("animations",n.animations)}}function f0(e,t){if(e&1){let i=Be();L(),_(0,"g",15),Q("onDomainChange",function(a){ne(i);let s=b();return ae(s.updateDomain(a))}),P(1,g0,2,8,"g",9),x()}if(e&2){let i=b();y("results",i.results)("view",Ji(10,zh,i.timelineWidth,i.height))("height",i.timelineHeight)("scheme",i.scheme)("customColors",i.customColors)("scaleType",i.scaleType)("legend",i.legend),B("transform",i.timelineTransform),g(),y("ngForOf",i.results)("ngForTrackBy",i.trackBy)}}function _0(e,t,i){i=i||{};let n,a,s,r=null,o=0;function l(){o=i.leading===!1?0:+new Date,r=null,s=e.apply(n,a)}return function(){let c=+new Date;!o&&i.leading===!1&&(o=c);let d=t-(c-o);return n=this,a=arguments,d<=0?(clearTimeout(r),r=null,o=c,s=e.apply(n,a)):!r&&i.trailing!==!1&&(r=setTimeout(l,d)),s}}function x0(e,t){return function(n,a,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,a,{configurable:!0,enumerable:s.enumerable,value:_0(s.value,e,t)}),this[a]}}}}var N=function(e){return e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e.Center="center",e}(N||{}),Dt=7;function Dh(e,t,i){if(i===N.Top)return e.top-Dt;if(i===N.Bottom)return e.top+e.height-t.height+Dt;if(i===N.Center)return e.top+e.height/2-t.height/2}function Fh(e,t,i){if(i===N.Left)return e.left-Dt;if(i===N.Right)return e.left+e.width-t.width+Dt;if(i===N.Center)return e.left+e.width/2-t.width/2}var Yn=class e{static calculateVerticalAlignment(t,i,n){let a=Dh(t,i,n);return a+i.height>window.innerHeight&&(a=window.innerHeight-i.height),a}static calculateVerticalCaret(t,i,n,a){let s;a===N.Top&&(s=t.height/2-n.height/2+Dt),a===N.Bottom&&(s=i.height-t.height/2-n.height/2-Dt),a===N.Center&&(s=i.height/2-n.height/2);let r=Dh(t,i,a);return r+i.height>window.innerHeight&&(s+=r+i.height-window.innerHeight),s}static calculateHorizontalAlignment(t,i,n){let a=Fh(t,i,n);return a+i.width>window.innerWidth&&(a=window.innerWidth-i.width),a}static calculateHorizontalCaret(t,i,n,a){let s;a===N.Left&&(s=t.width/2-n.width/2+Dt),a===N.Right&&(s=i.width-t.width/2-n.width/2-Dt),a===N.Center&&(s=i.width/2-n.width/2);let r=Fh(t,i,a);return r+i.width>window.innerWidth&&(s+=r+i.width-window.innerWidth),s}static shouldFlip(t,i,n,a){let s=!1;return n===N.Right&&t.left+t.width+i.width+a>window.innerWidth&&(s=!0),n===N.Left&&t.left-i.width-a<0&&(s=!0),n===N.Top&&t.top-i.height-a<0&&(s=!0),n===N.Bottom&&t.top+t.height+i.height+a>window.innerHeight&&(s=!0),s}static positionCaret(t,i,n,a,s){let r=0,o=0;return t===N.Right?(o=-7,r=e.calculateVerticalCaret(n,i,a,s)):t===N.Left?(o=i.width,r=e.calculateVerticalCaret(n,i,a,s)):t===N.Top?(r=i.height,o=e.calculateHorizontalCaret(n,i,a,s)):t===N.Bottom&&(r=-7,o=e.calculateHorizontalCaret(n,i,a,s)),{top:r,left:o}}static positionContent(t,i,n,a,s){let r=0,o=0;return t===N.Right?(o=n.left+n.width+a,r=e.calculateVerticalAlignment(n,i,s)):t===N.Left?(o=n.left-i.width-a,r=e.calculateVerticalAlignment(n,i,s)):t===N.Top?(r=n.top-i.height-a,o=e.calculateHorizontalAlignment(n,i,s)):t===N.Bottom&&(r=n.top+n.height+a,o=e.calculateHorizontalAlignment(n,i,s)),{top:r,left:o}}static determinePlacement(t,i,n,a){if(e.shouldFlip(n,i,t,a)){if(t===N.Right)return N.Left;if(t===N.Left)return N.Right;if(t===N.Top)return N.Bottom;if(t===N.Bottom)return N.Top}return t}},v0=(()=>{class e{constructor(i,n,a){this.element=i,this.renderer=n,this.platformId=a}get cssClasses(){let i="ngx-charts-tooltip-content";return i+=` position-${this.placement}`,i+=` type-${this.type}`,i+=` ${this.cssClass}`,i}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!Tt(this.platformId))return;let i=this.element.nativeElement,n=this.host.nativeElement.getBoundingClientRect();if(!n.height&&!n.width)return;let a=i.getBoundingClientRect();this.checkFlip(n,a),this.positionContent(i,n,a),this.showCaret&&this.positionCaret(n,a),setTimeout(()=>this.renderer.addClass(i,"animate"),1)}positionContent(i,n,a){let{top:s,left:r}=Yn.positionContent(this.placement,a,n,this.spacing,this.alignment);this.renderer.setStyle(i,"top",`${s}px`),this.renderer.setStyle(i,"left",`${r}px`)}positionCaret(i,n){let a=this.caretElm.nativeElement,s=a.getBoundingClientRect(),{top:r,left:o}=Yn.positionCaret(this.placement,n,i,s,this.alignment);this.renderer.setStyle(a,"top",`${r}px`),this.renderer.setStyle(a,"left",`${o}px`)}checkFlip(i,n){this.placement=Yn.determinePlacement(this.placement,n,i,this.spacing)}onWindowResize(){this.position()}}return e.\u0275fac=function(i){return new(i||e)(O(Te),O(ps),O(yt))},e.\u0275cmp=W({type:e,selectors:[["ngx-tooltip-content"]],viewQuery:function(i,n){if(i&1&&ct(jg,5),i&2){let a;je(a=Ue())&&(n.caretElm=a.first)}},hostVars:2,hostBindings:function(i,n){i&1&&Q("resize",function(){return n.onWindowResize()},!1,Kn),i&2&&Kr(n.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[["caretElm",""],[3,"hidden"],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(i,n){i&1&&(_(0,"div"),Y(1,"span",1,0),_(3,"div",2),P(4,qg,2,4,"span",3)(5,Zg,1,1,"span",4),x()()),i&2&&(g(),Jr("tooltip-caret position-",n.placement,""),y("hidden",!n.showCaret),g(3),y("ngIf",!n.title),g(),y("ngIf",n.title))},dependencies:[Ye,so],styles:[`.ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}
`],encapsulation:2}),$r([x0(100)],e.prototype,"onWindowResize",null),e})(),kr=class{constructor(t){this.injectionService=t,this.defaults={},this.components=new Map}getByType(t=this.type){return this.components.get(t)}create(t){return this.createByType(this.type,t)}createByType(t,i){i=this.assignDefaults(i);let n=this.injectComponent(t,i);return this.register(t,n),n}destroy(t){let i=this.components.get(t.componentType);if(i&&i.length){let n=i.indexOf(t);n>-1&&(i[n].destroy(),i.splice(n,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(t){let i=this.components.get(t);if(i&&i.length){let n=i.length-1;for(;n>=0;)this.destroy(i[n--])}}injectComponent(t,i){return this.injectionService.appendComponent(t,i)}assignDefaults(t){let i=fe({},this.defaults.inputs),n=fe({},this.defaults.outputs);return!t.inputs&&!t.outputs&&(t={inputs:t}),i&&(t.inputs=fe(fe({},i),t.inputs)),n&&(t.outputs=fe(fe({},n),t.outputs)),t}register(t,i){this.components.has(t)||this.components.set(t,[]),this.components.get(t).push(i)}};function y0(e){return e.element}var Xh=(()=>{class e{constructor(i,n,a){this.applicationRef=i,this.componentFactoryResolver=n,this.injector=a}static setGlobalRootViewContainer(i){e.globalRootViewContainer=i}getRootViewContainer(){if(this._container)return this._container;if(e.globalRootViewContainer)return e.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(i){this._container=i}getComponentRootNode(i){return y0(i)?i.element.nativeElement:i.hostView&&i.hostView.rootNodes.length>0?i.hostView.rootNodes[0]:i.location.nativeElement}getRootViewContainerNode(i){return this.getComponentRootNode(i)}projectComponentBindings(i,n){if(n){if(n.inputs!==void 0){let a=Object.getOwnPropertyNames(n.inputs);for(let s of a)i.instance[s]=n.inputs[s]}if(n.outputs!==void 0){let a=Object.getOwnPropertyNames(n.outputs);for(let s of a)i.instance[s]=n.outputs[s]}}return i}appendComponent(i,n={},a){a||(a=this.getRootViewContainer());let s=this.getComponentRootNode(a),r=new Ci(s,this.componentFactoryResolver,this.applicationRef,this.injector),o=new Ct(i),l=r.attach(o);return this.projectComponentBindings(l,n),l}}return e.globalRootViewContainer=null,e.\u0275fac=function(i){return new(i||e)(E(ta),E(mi),E(Ie))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e})(),Fr=(()=>{class e extends kr{constructor(i){super(i),this.type=v0}}return e.\u0275fac=function(i){return new(i||e)(E(Xh))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e})(),ri=function(e){return e.Right="right",e.Below="below",e}(ri||{}),Gn=function(e){return e.ScaleLegend="scaleLegend",e.Legend="legend",e}(Gn||{}),D=function(e){return e.Time="time",e.Linear="linear",e.Ordinal="ordinal",e.Quantile="quantile",e}(D||{}),b0=(()=>{class e{constructor(){this.horizontal=!1}ngOnChanges(i){let n=this.gradientString(this.colors.range(),this.colors.domain()),a=this.horizontal?"right":"bottom";this.gradient=`linear-gradient(to ${a}, ${n})`}gradientString(i,n){n.push(1);let a=[];return i.reverse().forEach((s,r)=>{a.push(`${s} ${Math.round(n[r]*100)}%`)}),a.join(", ")}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=W({type:e,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},features:[pe],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(i,n){i&1&&(_(0,"div",0)(1,"div",1)(2,"span"),z(3),x()(),Y(4,"div",2),_(5,"div",1)(6,"span"),z(7),x()()()),i&2&&(Xe("height",n.horizontal?void 0:n.height,"px")("width",n.width,"px"),Ke("horizontal-legend",n.horizontal),g(3),$e(n.valueRange[1].toLocaleString()),g(),Xe("background",n.gradient),g(3),$e(n.valueRange[0].toLocaleString()))},styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}
`],encapsulation:2,changeDetection:0}),e})();function $h(e){return e instanceof Date?e=e.toLocaleDateString():e=e.toLocaleString(),e}function Eh(e){return e.toLocaleString().replace(/[&'`"<>]/g,t=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"})[t])}var T0=(()=>{class e{constructor(){this.isActive=!1,this.select=new H,this.activate=new H,this.deactivate=new H,this.toggle=new H}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=W({type:e,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(i,n){i&1&&Q("mouseenter",function(){return n.onMouseEnter()})("mouseleave",function(){return n.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"click","title"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(i,n){i&1&&(_(0,"span",0),Q("click",function(){return n.select.emit(n.formattedLabel)}),_(1,"span",1),Q("click",function(){return n.toggle.emit(n.formattedLabel)}),x(),_(2,"span",2),z(3),x()()),i&2&&(Ke("active",n.isActive),y("title",n.formattedLabel),g(),Xe("background-color",n.color),g(2),ht(" ",n.trimmedLabel," "))},encapsulation:2,changeDetection:0}),e})(),C0=(()=>{class e{constructor(i){this.cd=i,this.horizontal=!1,this.labelClick=new H,this.labelActivate=new H,this.labelDeactivate=new H,this.legendEntries=[]}ngOnChanges(i){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){let i=[];for(let n of this.data){let a=$h(n);i.findIndex(r=>r.label===a)===-1&&i.push({label:n,formattedLabel:a,color:this.colors.getColor(n)})}return i}isActive(i){return this.activeEntries?this.activeEntries.find(a=>i.label===a.name)!==void 0:!1}activate(i){this.labelActivate.emit(i)}deactivate(i){this.labelDeactivate.emit(i)}trackBy(i,n){return n.label}}return e.\u0275fac=function(i){return new(i||e)(O(_i))},e.\u0275cmp=W({type:e,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[pe],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"select","activate","deactivate","label","formattedLabel","color","isActive"]],template:function(i,n){i&1&&(_(0,"div"),P(1,Kg,3,1,"header",0),_(2,"div",1)(3,"ul",2),P(4,Jg,2,4,"li",3),x()()()),i&2&&(Xe("width",n.width,"px"),g(),y("ngIf",(n.title==null?null:n.title.length)>0),g(2),Xe("max-height",n.height-45,"px"),Ke("horizontal-legend",n.horizontal),g(),y("ngForOf",n.legendEntries)("ngForTrackBy",n.trackBy))},dependencies:[T0,Ye,Rt],styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
`],encapsulation:2,changeDetection:0}),e})(),w0=(()=>{class e{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new H,this.legendLabelActivate=new H,this.legendLabelDeactivate=new H,this.LegendPosition=ri,this.LegendType=Gn}ngOnChanges(i){this.update()}update(){let i=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===ri.Right)&&(this.legendType===Gn.ScaleLegend?i=1:i=2));let n=12-i;this.chartWidth=Math.floor(this.view[0]*n/12),this.legendWidth=!this.legendOptions||this.legendOptions.position===ri.Right?Math.floor(this.view[0]*i/12):this.chartWidth}getLegendType(){return this.legendOptions.scaleType===D.Linear?Gn.ScaleLegend:Gn.Legend}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=W({type:e,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[Ki([Fr]),pe],ngContentSelectors:Gh,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"labelClick","labelActivate","labelDeactivate","horizontal","data","title","colors","height","width","activeEntries"]],template:function(i,n){i&1&&(fs(),_(0,"div",0),L(),_(1,"svg",1),_s(2),x(),P(3,ef,1,5,"ngx-charts-scale-legend",2)(4,tf,1,7,"ngx-charts-legend",3),x()),i&2&&(Xe("width",n.view[0],"px")("height",n.view[1],"px"),g(),B("width",n.chartWidth)("height",n.view[1]),g(2),y("ngIf",n.showLegend&&n.legendType===n.LegendType.ScaleLegend),g(),y("ngIf",n.showLegend&&n.legendType===n.LegendType.Legend))},dependencies:[b0,C0,Ye],encapsulation:2,changeDetection:0}),e})(),S0=(()=>{class e{constructor(i,n){this.element=i,this.zone=n,this.visible=new H,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){let i=()=>{if(!this.element)return;let{offsetHeight:n,offsetWidth:a}=this.element.nativeElement;n&&a?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>i(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>i())})}}return e.\u0275fac=function(i){return new(i||e)(O(Te),O(Ge))},e.\u0275dir=Ot({type:e,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),e})();function Mh(e){return toString.call(e)==="[object Date]"}var k0=(()=>{class e{constructor(i,n,a,s){this.chartElement=i,this.zone=n,this.cd=a,this.platformId=s,this.scheme="cool",this.schemeType=D.Ordinal,this.animations=!0,this.select=new H}ngOnInit(){tn(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new S0(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(i){this.update()}update(){if(this.results?this.results=this.cloneData(this.results):this.results=[],this.view)this.width=this.view[0],this.height=this.view[1];else{let i=this.getContainerDims();i&&(this.width=i.width,this.height=i.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let i,n,a=this.chartElement.nativeElement;if(Tt(this.platformId)&&a.parentNode!==null){let s=a.parentNode.getBoundingClientRect();i=s.width,n=s.height}return i&&n?{width:i,height:n}:null}formatDates(){for(let i=0;i<this.results.length;i++){let n=this.results[i];if(n.label=n.name,Mh(n.label)&&(n.label=n.label.toLocaleDateString()),n.series)for(let a=0;a<n.series.length;a++){let s=n.series[a];s.label=s.name,Mh(s.label)&&(s.label=s.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!Tt(this.platformId))return;let n=jr(window,"resize").pipe(Ur(200)).subscribe(a=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=n}cloneData(i){let n=[];for(let a of i){let s={};if(a.name!==void 0&&(s.name=a.name),a.value!==void 0&&(s.value=a.value),a.series!==void 0){s.series=[];for(let r of a.series){let o=Object.assign({},r);s.series.push(o)}}a.extra!==void 0&&(s.extra=JSON.parse(JSON.stringify(a.extra))),a.source!==void 0&&(s.source=a.source),a.target!==void 0&&(s.target=a.target),n.push(s)}return n}}return e.\u0275fac=function(i){return new(i||e)(O(Te),O(Ge),O(_i),O(yt))},e.\u0275cmp=W({type:e,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},features:[pe],decls:1,vars:0,template:function(i,n){i&1&&Y(0,"div")},encapsulation:2}),e})(),Se=function(e){return e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e}(Se||{}),Wh=(()=>{class e{constructor(i){this.textHeight=25,this.margin=5,this.element=i.nativeElement}ngOnChanges(i){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case Se.Top:this.y=this.offset,this.x=this.width/2;break;case Se.Bottom:this.y=this.offset,this.x=this.width/2;break;case Se.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case Se.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)";break;default:}}}return e.\u0275fac=function(i){return new(i||e)(O(Te))},e.\u0275cmp=W({type:e,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},features:[pe],attrs:nf,decls:2,vars:6,template:function(i,n){i&1&&(L(),_(0,"text"),z(1),x()),i&2&&(B("stroke-width",n.strokeWidth)("x",n.x)("y",n.y)("text-anchor",n.textAnchor)("transform",n.transform),g(),ht(" ",n.label," "))},encapsulation:2,changeDetection:0}),e})();function jh(e,t=16){return typeof e!="string"?typeof e=="number"?e+"":"":(e=e.trim(),e.length<=t?e:`${e.slice(0,t)}...`)}function Uh(e,t){if(e.length>t){let i=[],n=Math.floor(e.length/t);for(let a=0;a<e.length;a++)a%n===0&&i.push(e[a]);e=i}return e}function Qh(e,t,i){let n=(e||"").toString(),a=[];if(/\s/.test(n))a=n.split(/\s+/).reduce((s,r)=>{let o=(s.pop()||"")+" ";return o.length+r.length>t?[...s,o.trim(),r.trim()]:[...s,o+r]},[]);else{let s=0;for(;s<n.length;)a.push(n.substring(s,s+t)),s+=t}return a.length>i&&(a=a.splice(0,i),a[a.length-1]+="..."),a}var ft=function(e){return e.Start="start",e.Middle="middle",e.End="end",e}(ft||{}),Oh=(()=>{class e{constructor(i){this.platformId=i,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.wrapTicks=!1,this.dimensionsChanged=new H,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=ft.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10,this.maxPossibleLengthForTickIfWrapped=16}get isWrapTicksSupported(){return this.wrapTicks&&this.scale.step}ngOnChanges(i){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!Tt(this.platformId)){this.dimensionsChanged.emit({height:this.approxHeight});return}let i=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);i!==this.height&&(this.height=i,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()))}update(){let i=this.scale;this.ticks=this.getTicks(),this.tickFormatting?this.tickFormat=this.tickFormatting:i.tickFormat?this.tickFormat=i.tickFormat.apply(i,this.tickArguments):this.tickFormat=function(a){return a.constructor.name==="Date"?a.toLocaleDateString():a.toLocaleString()};let n=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(a){return this.scale(a)+this.scale.bandwidth()*.5}:this.scale,this.textTransform="",n&&n!==0?(this.textTransform=`rotate(${n})`,this.textAnchor=ft.End,this.verticalSpacing=10):this.textAnchor=ft.Middle,setTimeout(()=>this.updateDims())}getRotationAngle(i){let n=0;this.maxTicksLength=0;for(let h=0;h<i.length;h++){let u=this.tickFormat(i[h]).toString(),m=u.length;this.trimTicks&&(m=this.tickTrim(u).length),m>this.maxTicksLength&&(this.maxTicksLength=m)}let a=Math.min(this.maxTicksLength,this.maxAllowedLength),s=7,r=a*s,o=r,l=Math.floor(this.width/i.length);for(;o>l&&n>-90;)n-=30,o=Math.cos(n*(Math.PI/180))*r;let c=14;if(this.isWrapTicksSupported){let h=this.ticks.reduce((m,f)=>f.length>m.length?f:m,"");c=14*(this.tickChunks(h).length||1),this.maxPossibleLengthForTickIfWrapped=this.getMaxPossibleLengthForTick(h)}let d=n!==0?Math.max(Math.abs(Math.sin(n*Math.PI/180))*this.maxTickLength*s,10):c;return this.approxHeight=Math.min(d,200),n}getTicks(){let i,n=this.getMaxTicks(20),a=this.getMaxTicks(100);return this.tickValues?i=this.tickValues:this.scale.ticks?i=this.scale.ticks.apply(this.scale,[a]):(i=this.scale.domain(),i=Uh(i,n)),i}getMaxTicks(i){return Math.floor(this.width/i)}tickTransform(i){return"translate("+this.adjustedScale(i)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(i){return this.trimTicks?jh(i,this.maxTickLength):i}getMaxPossibleLengthForTick(i){if(this.scale.bandwidth){let a=Math.floor(this.scale.bandwidth()/7),s=i.slice(0,a);return Math.max(s.length,this.maxTickLength)}return this.maxTickLength}tickChunks(i){if(i.toString().length>this.maxTickLength&&this.scale.bandwidth){let a=this.rotateTicks?Math.floor(this.scale.step()/14):5;if(a<=1)return[this.tickTrim(i)];let s=Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength);return Tt(this.platformId)||(s=Math.floor(Math.min(this.approxHeight/5,Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength)))),a=Math.min(a,5),Qh(i,s,a<1?1:a)}return[this.tickTrim(i)]}}return e.\u0275fac=function(i){return new(i||e)(O(yt))},e.\u0275cmp=W({type:e,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(i,n){if(i&1&&ct(Yh,5),i&2){let a;je(a=Ue())&&(n.ticksElement=a.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineHeight:"gridLineHeight",width:"width",rotateTicks:"rotateTicks",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[pe],attrs:af,decls:4,vars:2,consts:[["ticksel",""],["tmplMultilineTick",""],["tmplSinglelineTick",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01","font-size","12px"],[4,"ngIf","ngIfThen","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(i,n){i&1&&(L(),_(0,"g",null,0),P(2,df,2,2,"g",3),x(),P(3,mf,2,2,"g",4)),i&2&&(g(2),y("ngForOf",n.ticks),g(),y("ngForOf",n.ticks))},dependencies:[Rt,Ye],encapsulation:2,changeDetection:0}),e})(),A0=(()=>{class e{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=Se.Bottom,this.xAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new H,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.orientation=Se}ngOnChanges(i){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,typeof this.xAxisTickCount<"u"&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:i}){let n=i+25+5;n!==this.labelOffset&&(this.labelOffset=n,setTimeout(()=>{this.dimensionsChanged.emit({height:i})},0))}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=W({type:e,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(i,n){if(i&1&&ct(Oh,5),i&2){let a;je(a=Ue())&&(n.ticksComponent=a.first)}},inputs:{xScale:"xScale",dims:"dims",trimTicks:"trimTicks",rotateTicks:"rotateTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount",xOrient:"xOrient",xAxisOffset:"xAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[pe],attrs:pf,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"dimensionsChanged","trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(i,n){i&1&&(L(),_(0,"g"),P(1,gf,1,13,"g",0)(2,ff,1,5,"g",1),x()),i&2&&(B("class",n.xAxisClassName)("transform",n.transform),g(),y("ngIf",n.xScale),g(),y("ngIf",n.showLabel))},dependencies:[Oh,Wh,Ye],encapsulation:2,changeDetection:0}),e})();function L0(e,t,i,n,a,[s,r,o,l]){let c="";return i=Math.floor(i),n=Math.floor(n),i=i===0?1:i,n=n===0?1:n,c=`M${[e+a,t]}`,c+=`h${i-2*a}`,r?c+=`a${[a,a]} 0 0 1 ${[a,a]}`:c+=`h${a}v${a}`,c+=`v${n-2*a}`,l?c+=`a${[a,a]} 0 0 1 ${[-a,a]}`:c+=`v${a}h${-a}`,c+=`h${2*a-i}`,o?c+=`a${[a,a]} 0 0 1 ${[-a,-a]}`:c+=`h${-a}v${-a}`,c+=`v${2*a-n}`,s?c+=`a${[a,a]} 0 0 1 ${[a,-a]}`:c+=`v${-a}h${a}`,c+="z",c}var Vh=(()=>{class e{constructor(i){this.platformId=i,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.wrapTicks=!1,this.dimensionsChanged=new H,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=ft.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=Se}ngOnChanges(i){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!Tt(this.platformId)){this.width=this.getApproximateAxisWidth(),this.dimensionsChanged.emit({width:this.width});return}let i=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);i!==this.width&&(this.width=i,this.dimensionsChanged.emit({width:i}),setTimeout(()=>this.updateDims()))}update(){let i=this.scale,n=this.orient===Se.Top||this.orient===Se.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,this.ticks=this.getTicks(),this.tickFormatting?this.tickFormat=this.tickFormatting:i.tickFormat?this.tickFormat=i.tickFormat.apply(i,this.tickArguments):this.tickFormat=function(a){return a.constructor.name==="Date"?a.toLocaleDateString():a.toLocaleString()},this.adjustedScale=i.bandwidth?a=>{let s=i(a)+i.bandwidth()*.5;if(this.wrapTicks&&a.toString().length>this.maxTickLength){let r=this.tickChunks(a).length;if(r===1)return s;let o=i.bandwidth(),l=r*8,c=o*.5-l*.5;return i(a)+c}return s}:i,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case Se.Top:this.transform=function(a){return"translate("+this.adjustedScale(a)+",0)"},this.textAnchor=ft.Middle,this.y2=this.innerTickSize*n,this.y1=this.tickSpacing*n,this.dy=n<0?"0em":".71em";break;case Se.Bottom:this.transform=function(a){return"translate("+this.adjustedScale(a)+",0)"},this.textAnchor=ft.Middle,this.y2=this.innerTickSize*n,this.y1=this.tickSpacing*n,this.dy=n<0?"0em":".71em";break;case Se.Left:this.transform=function(a){return"translate(0,"+this.adjustedScale(a)+")"},this.textAnchor=ft.End,this.x2=this.innerTickSize*-n,this.x1=this.tickSpacing*-n,this.dy=".32em";break;case Se.Right:this.transform=function(a){return"translate(0,"+this.adjustedScale(a)+")"},this.textAnchor=ft.Start,this.x2=this.innerTickSize*-n,this.x1=this.tickSpacing*-n,this.dy=".32em";break;default:}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(i=>i.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(i=>i.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=L0(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let i,n=this.getMaxTicks(20),a=this.getMaxTicks(50);return this.tickValues?i=this.tickValues:this.scale.ticks?i=this.scale.ticks.apply(this.scale,[a]):(i=this.scale.domain(),i=Uh(i,n)),i}getMaxTicks(i){return Math.floor(this.height/i)}tickTransform(i){return`translate(${this.adjustedScale(i)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(i){return this.trimTicks?jh(i,this.maxTickLength):i}getApproximateAxisWidth(){return Math.max(...this.ticks.map(a=>this.tickTrim(this.tickFormat(a)).length))*7}tickChunks(i){if(i.toString().length>this.maxTickLength&&this.scale.bandwidth){let n=this.maxTickLength,a=Math.floor(this.scale.bandwidth()/15);return a<=1?[this.tickTrim(i)]:Qh(i,n,Math.min(a,5))}return[this.tickFormat(i)]}}return e.\u0275fac=function(i){return new(i||e)(O(yt))},e.\u0275cmp=W({type:e,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(i,n){if(i&1&&ct(Yh,5),i&2){let a;je(a=Ue())&&(n.ticksElement=a.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[pe],attrs:_f,decls:6,vars:4,consts:[["ticksel",""],["tmplMultilineTick",""],["tmplSinglelineTick",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01"],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngIf","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],[1,"reference-area"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(i,n){i&1&&(L(),_(0,"g",null,0),P(2,Sf,2,2,"g",3),x(),P(3,kf,1,2,"path",4)(4,Ff,2,2,"g",5)(5,Of,2,1,"g",5)),i&2&&(g(2),y("ngForOf",n.ticks),g(),y("ngIf",n.referenceLineLength>1&&n.refMax&&n.refMin&&n.showRefLines),g(),y("ngForOf",n.ticks),g(),y("ngForOf",n.referenceLines))},dependencies:[Rt,Ye],encapsulation:2,changeDetection:0}),e})(),D0=(()=>{class e{constructor(){this.showGridLines=!1,this.yOrient=Se.Left,this.yAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new H,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(i){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===Se.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):this.transform=`translate(${this.offset} , 0)`,this.yAxisTickCount!==void 0&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:i}){i!==this.labelOffset&&this.yOrient===Se.Right?(this.labelOffset=i+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:i})},0)):i!==this.labelOffset&&(this.labelOffset=i,setTimeout(()=>{this.dimensionsChanged.emit({width:i})},0))}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=W({type:e,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(i,n){if(i&1&&ct(Vh,5),i&2){let a;je(a=Ue())&&(n.ticksComponent=a.first)}},inputs:{yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",yOrient:"yOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",yAxisOffset:"yAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[pe],attrs:Vf,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"dimensionsChanged","trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(i,n){i&1&&(L(),_(0,"g"),P(1,Pf,1,15,"g",0)(2,If,1,5,"g",1),x()),i&2&&(B("class",n.yAxisClassName)("transform",n.transform),g(),y("ngIf",n.yScale),g(),y("ngIf",n.showLabel))},dependencies:[Vh,Wh,Ye],encapsulation:2,changeDetection:0}),e})(),Ph=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=ue({imports:[[en]]}),e})(),ls=function(e){return e.popover="popover",e.tooltip="tooltip",e}(ls||{}),Xi=function(e){return e[e.all="all"]="all",e[e.focus="focus"]="focus",e[e.mouseover="mouseover"]="mouseover",e}(Xi||{}),qh=(()=>{class e{constructor(i,n,a){this.tooltipService=i,this.viewContainerRef=n,this.renderer=a,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=N.Top,this.tooltipAlignment=N.Center,this.tooltipType=ls.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=Xi.all,this.tooltipImmediateExit=!1,this.show=new H,this.hide=new H}get listensForFocus(){return this.tooltipShowEvent===Xi.all||this.tooltipShowEvent===Xi.focus}get listensForHover(){return this.tooltipShowEvent===Xi.all||this.tooltipShowEvent===Xi.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(i){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(i))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(i){if(this.component||this.tooltipDisabled)return;let n=i?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?400:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();let a=this.createBoundOptions();this.component=this.tooltipService.create(a),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},n)}addHideListeners(i){this.mouseEnterContentEvent=this.renderer.listen(i,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(i,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",n=>{i.contains(n.target)||this.hideTooltip()}))}hideTooltip(i=!1){if(!this.component)return;let n=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),i?n():this.timeout=setTimeout(n,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return e.\u0275fac=function(i){return new(i||e)(O(Fr),O(Zi),O(ps))},e.\u0275dir=Ot({type:e,selectors:[["","ngx-tooltip",""]],hostBindings:function(i,n){i&1&&Q("focusin",function(){return n.onFocus()})("blur",function(){return n.onBlur()})("mouseenter",function(){return n.onMouseEnter()})("mouseleave",function(s){return n.onMouseLeave(s.target)})("click",function(){return n.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}}),e})(),Ih=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=ue({providers:[Xh,Fr],imports:[[en]]}),e})(),Bh={};function $i(){let e=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return e=`a${e}`,Bh[e]?$i():(Bh[e]=!0,e)}var oi=function(e){return e.Vertical="vertical",e.Horizontal="horizontal",e}(oi||{}),Er=(()=>{class e{constructor(){this.orientation=oi.Vertical}ngOnChanges(i){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===oi.Horizontal?this.x2="100%":this.orientation===oi.Vertical&&(this.y1="100%")}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=W({type:e,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},features:[pe],attrs:Bf,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(i,n){i&1&&(L(),_(0,"linearGradient",0),P(1,Rf,1,5,"stop",1),x()),i&2&&(y("id",n.name),B("x1",n.x1)("y1",n.y1)("x2",n.x2)("y2",n.y2),g(),y("ngForOf",n.stops))},dependencies:[Rt],encapsulation:2,changeDetection:0}),e})(),F0=(()=>{class e{constructor(){this.select=new H,this.activate=new H,this.deactivate=new H}onClick(){this.select.emit(this.data)}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}ngOnChanges(i){this.classNames=Array.isArray(this.classNames)?this.classNames.join(" "):"",this.classNames+="circle"}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=W({type:e,selectors:[["g","ngx-charts-circle",""]],hostBindings:function(i,n){i&1&&Q("click",function(){return n.onClick()})("mouseenter",function(){return n.onMouseEnter()})("mouseleave",function(){return n.onMouseLeave()})},inputs:{cx:"cx",cy:"cy",r:"r",fill:"fill",stroke:"stroke",data:"data",classNames:"classNames",circleOpacity:"circleOpacity",pointerEvents:"pointerEvents"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[pe],attrs:Nf,decls:1,vars:8,template:function(i,n){i&1&&(L(),Y(0,"circle")),i&2&&B("cx",n.cx)("cy",n.cy)("r",n.r)("fill",n.fill)("stroke",n.stroke)("opacity",n.circleOpacity)("class",n.classNames)("pointer-events",n.pointerEvents)},encapsulation:2,changeDetection:0}),e})(),os=function(e){return e.Standard="standard",e.Stacked="stacked",e}(os||{}),E0=(()=>{class e{constructor(i){this.platformId=i,this.type=os.Standard,this.tooltipDisabled=!1,this.select=new H,this.activate=new H,this.deactivate=new H,this.barVisible=!1,this.barOrientation=oi,this.placementTypes=N,this.styleTypes=ls,this.isSSR=!1}ngOnInit(){this.gradientId="grad"+$i().toString(),this.gradientFill=`url(#${this.gradientId})`,tn(this.platformId)&&(this.isSSR=!0)}ngOnChanges(){this.update()}update(){this.circle=this.getActiveCircle()}getActiveCircle(){let i=this.data.series.findIndex(n=>{let a=n.name;return a&&this.visibleValue&&a.toString()===this.visibleValue.toString()&&n.value!==void 0});if(i!==-1)return this.mapDataPointToCircle(this.data.series[i],i)}mapDataPointToCircle(i,n){let a=this.data.name,s=i.value,r=i.name,o=$h(r),l;this.scaleType===D.Time?l=this.xScale(r):this.scaleType===D.Linear?l=this.xScale(Number(r)):l=this.xScale(r);let c=this.yScale(this.type===os.Standard?s:i.d1),d=5,h=this.yScale.range()[0]-c,u=1,m;this.colors.scaleType===D.Linear?this.type===os.Standard?m=this.colors.getColor(s):m=this.colors.getColor(i.d1):m=this.colors.getColor(a);let f=Object.assign({},i,{series:a,value:s,name:r});return{classNames:[`circle-data-${n}`],value:s,label:r,data:f,cx:l,cy:c,radius:d,height:h,tooltipLabel:o,color:m,opacity:u,seriesName:a,gradientStops:this.getGradientStops(m),min:i.min,max:i.max}}getTooltipText({tooltipLabel:i,value:n,seriesName:a,min:s,max:r}){return`
      <span class="tooltip-label">${Eh(a)} \u2022 ${Eh(i)}</span>
      <span class="tooltip-val">${n.toLocaleString()}${this.getTooltipMinMaxText(s,r)}</span>
    `}getTooltipMinMaxText(i,n){if(i!==void 0||n!==void 0){let a=" (";return i!==void 0?(n===void 0&&(a+="\u2265"),a+=i.toLocaleString(),n!==void 0&&(a+=" - ")):n!==void 0&&(a+="\u2264"),n!==void 0&&(a+=n.toLocaleString()),a+=")",a}else return""}getGradientStops(i){return[{offset:0,color:i,opacity:.2},{offset:100,color:i,opacity:1}]}onClick(i){this.select.emit(i)}isActive(i){return this.activeEntries?this.activeEntries.find(a=>i.name===a.name)!==void 0:!1}activateCircle(){this.barVisible=!0,this.activate.emit({name:this.data.name})}deactivateCircle(){this.barVisible=!1,this.circle.opacity=0,this.deactivate.emit({name:this.data.name})}}return e.\u0275fac=function(i){return new(i||e)(O(yt))},e.\u0275cmp=W({type:e,selectors:[["g","ngx-charts-circle-series",""]],inputs:{data:"data",type:"type",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",visibleValue:"visibleValue",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[pe],attrs:Hf,decls:1,vars:1,consts:[[4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["class","tooltip-bar",4,"ngIf"],["ngx-charts-circle","","ngx-tooltip","",1,"circle",3,"select","activate","deactivate","cx","cy","r","fill","pointerEvents","data","classNames","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext"],[1,"tooltip-bar"]],template:function(i,n){i&1&&P(0,Xf,6,22,"g",0),i&2&&y("ngIf",n.circle)},dependencies:[Er,F0,Ye,qh],encapsulation:2,data:{animation:[nn("animationState",[vi(":enter",[Qe({opacity:0}),xi(250,Qe({opacity:1}))])])]},changeDetection:0}),e})();var M0=(()=>{class e{constructor(i){this.opacity=1,this.startOpacity=.5,this.endOpacity=1,this.gradient=!1,this.animations=!0,this.select=new H,this.animationsLoaded=!1,this.hasGradient=!1,this.barOrientation=oi,this.element=i.nativeElement}ngOnChanges(){this.update(),this.animationsLoaded||(this.loadAnimation(),this.animationsLoaded=!0)}update(){this.gradientId="grad"+$i().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl()}loadAnimation(){this.areaPath=this.startingPath,setTimeout(this.updatePathEl.bind(this),100)}updatePathEl(){let i=Ae(this.element).select(".area");this.animations?i.transition().duration(750).attr("d",this.path):i.attr("d",this.path)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.startOpacity},{offset:100,color:this.fill,opacity:this.endOpacity}]}}return e.\u0275fac=function(i){return new(i||e)(O(Te))},e.\u0275cmp=W({type:e,selectors:[["g","ngx-charts-area",""]],inputs:{data:"data",path:"path",startingPath:"startingPath",fill:"fill",opacity:"opacity",startOpacity:"startOpacity",endOpacity:"endOpacity",gradient:"gradient",stops:"stops",animations:"animations"},outputs:{select:"select"},features:[pe],attrs:$f,decls:2,vars:5,consts:[[4,"ngIf"],[1,"area"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(i,n){i&1&&(P(0,Wf,2,3,"defs",0),L(),Y(1,"path",1)),i&2&&(y("ngIf",n.gradient),g(),Xe("opacity",n.opacity),B("d",n.areaPath)("fill",n.gradient?n.gradientFill:n.fill))},dependencies:[Er,Ye],encapsulation:2,changeDetection:0}),e})();var Ar;typeof window<"u"?Ar=window:typeof global<"u"&&(Ar=global);var Rh=Ar.MouseEvent;function Sr(e,t=!1,i=!0){if(typeof Rh=="function")return new Rh(e,{bubbles:t,cancelable:i});{let n=document.createEvent("MouseEvent");return n.initEvent(e,t,i),n}}var O0=(()=>{class e{constructor(i){this.platformId=i,this.anchorOpacity=0,this.anchorPos=-1,this.anchorValues=[],this.placementTypes=N,this.styleTypes=ls,this.showPercentage=!1,this.tooltipDisabled=!1,this.hover=new H}getValues(i){let n=[];for(let a of this.results){let s=a.series.find(o=>o.name.toString()===i.toString()),r=a.name;if(r instanceof Date&&(r=r.toLocaleDateString()),s){let o=s.name,l=s.value;this.showPercentage&&(l=(s.d1-s.d0).toFixed(2)+"%");let c;if(this.colors.scaleType===D.Linear){let h=l;s.d1&&(h=s.d1),c=this.colors.getColor(h)}else c=this.colors.getColor(a.name);let d=Object.assign({},s,{value:l,name:o,series:r,min:s.min,max:s.max,color:c});n.push(d)}}return n}mouseMove(i){if(!Tt(this.platformId))return;let n=i.pageX-i.target.getBoundingClientRect().left,a=this.findClosestPointIndex(n),s=this.xSet[a];if(this.anchorPos=this.xScale(s),this.anchorPos=Math.max(0,this.anchorPos),this.anchorPos=Math.min(this.dims.width,this.anchorPos),this.anchorValues=this.getValues(s),this.anchorPos!==this.lastAnchorPos){let r=Sr("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(r),this.anchorOpacity=.7,this.hover.emit({value:s}),this.showTooltip(),this.lastAnchorPos=this.anchorPos}}findClosestPointIndex(i){let n=0,a=this.xSet.length-1,s=Number.MAX_VALUE,r=0;for(;n<=a;){let o=(n+a)/2|0,l=this.xScale(this.xSet[o]),c=Math.abs(l-i);if(c<s&&(s=c,r=o),l<i)n=o+1;else if(l>i)a=o-1;else{s=0,r=o;break}}return r}showTooltip(){let i=Sr("mouseenter");this.tooltipAnchor.nativeElement.dispatchEvent(i)}hideTooltip(){let i=Sr("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(i),this.anchorOpacity=0,this.lastAnchorPos=-1}getToolTipText(i){let n="";return i.series!==void 0?n+=i.series:n+="???",n+=": ",i.value!==void 0&&(n+=i.value.toLocaleString()),(i.min!==void 0||i.max!==void 0)&&(n+=" (",i.min!==void 0?(i.max===void 0&&(n+="\u2265"),n+=i.min.toLocaleString(),i.max!==void 0&&(n+=" - ")):i.max!==void 0&&(n+="\u2264"),i.max!==void 0&&(n+=i.max.toLocaleString()),n+=")"),n}}return e.\u0275fac=function(i){return new(i||e)(O(yt))},e.\u0275cmp=W({type:e,selectors:[["g","ngx-charts-tooltip-area",""]],viewQuery:function(i,n){if(i&1&&ct(jf,5),i&2){let a;je(a=Ue())&&(n.tooltipAnchor=a.first)}},inputs:{dims:"dims",xSet:"xSet",xScale:"xScale",yScale:"yScale",results:"results",colors:"colors",showPercentage:"showPercentage",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{hover:"hover"},attrs:Uf,decls:6,vars:18,consts:[["defaultTooltipTemplate",""],["tooltipAnchor",""],["y","0",1,"tooltip-area",2,"opacity","0","cursor","'auto'",3,"mousemove","mouseleave"],["y","0","ngx-tooltip","",1,"tooltip-anchor",3,"tooltipDisabled","tooltipPlacement","tooltipType","tooltipSpacing","tooltipTemplate","tooltipContext","tooltipImmediateExit"],[1,"area-tooltip-container"],["class","tooltip-item",4,"ngFor","ngForOf"],[1,"tooltip-item"],[1,"tooltip-item-color"]],template:function(i,n){if(i&1){let a=Be();L(),_(0,"g")(1,"rect",2),Q("mousemove",function(r){return ne(a),ae(n.mouseMove(r))})("mouseleave",function(){return ne(a),ae(n.hideTooltip())}),x(),P(2,qf,2,1,"ng-template",null,0,fi),Y(4,"rect",3,1),x()}if(i&2){let a=Vt(3);g(),B("x",0)("width",n.dims.width)("height",n.dims.height),g(3),Xe("opacity",n.anchorOpacity)("pointer-events","none"),y("@animationState",n.anchorOpacity!==0?"active":"inactive")("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement",n.placementTypes.Right)("tooltipType",n.styleTypes.tooltip)("tooltipSpacing",15)("tooltipTemplate",n.tooltipTemplate?n.tooltipTemplate:a)("tooltipContext",n.anchorValues)("tooltipImmediateExit",!0),B("x",n.anchorPos)("width",1)("height",n.dims.height)}},dependencies:[Rt,qh],encapsulation:2,data:{animation:[nn("animationState",[vi("inactive => active",[Qe({opacity:0}),xi(250,Qe({opacity:.7}))]),vi("active => inactive",[Qe({opacity:.7}),xi(250,Qe({opacity:0}))])])]},changeDetection:0}),e})(),V0=(()=>{class e{constructor(i,n){this.cd=n,this.height=50,this.select=new H,this.onDomainChange=new H,this.initialized=!1,this.element=i.nativeElement}ngOnChanges(i){this.update(),this.initialized||(this.addBrush(),this.initialized=!0)}update(){this.dims=this.getDims(),this.height=this.dims.height;let i=this.view[1]-this.height;this.xDomain=this.getXDomain(),this.xScale=this.getXScale(),this.brush&&this.updateBrush(),this.transform=`translate(0 , ${i})`,this.filterId="filter"+$i().toString(),this.filter=`url(#${this.filterId})`,this.cd.markForCheck()}getXDomain(){let i=[];for(let a of this.results)for(let s of a.series)i.includes(s.name)||i.push(s.name);let n=[];if(this.scaleType===D.Time){let a=Math.min(...i),s=Math.max(...i);n=[a,s]}else if(this.scaleType===D.Linear){i=i.map(r=>Number(r));let a=Math.min(...i),s=Math.max(...i);n=[a,s]}else n=i;return n}getXScale(){let i;return this.scaleType===D.Time?i=Nn().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===D.Linear?i=st().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===D.Ordinal&&(i=za().range([0,this.dims.width]).padding(.1).domain(this.xDomain)),i}addBrush(){if(this.brush)return;let i=this.height,n=this.view[0];this.brush=Us().extent([[0,0],[n,i]]).on("brush end",({selection:a})=>{let r=(a||this.xScale.range()).map(this.xScale.invert);this.onDomainChange.emit(r),this.cd.markForCheck()}),Ae(this.element).select(".brush").call(this.brush)}updateBrush(){if(!this.brush)return;let i=this.height,n=this.view[0];this.brush.extent([[0,0],[n,i]]),Ae(this.element).select(".brush").call(this.brush),Ae(this.element).select(".selection").attr("fill",void 0).attr("stroke",void 0).attr("fill-opacity",void 0),this.cd.markForCheck()}getDims(){return{width:this.view[0],height:this.height}}}return e.\u0275fac=function(i){return new(i||e)(O(Te),O(_i))},e.\u0275cmp=W({type:e,selectors:[["g","ngx-charts-timeline",""]],inputs:{view:"view",results:"results",scheme:"scheme",customColors:"customColors",legend:"legend",autoScale:"autoScale",scaleType:"scaleType",height:"height"},outputs:{select:"select",onDomainChange:"onDomainChange"},features:[pe],attrs:Zf,ngContentSelectors:Gh,decls:7,vars:4,consts:[[1,"timeline"],["in","SourceGraphic","type","matrix","values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"],[1,"embedded-chart"],["x","0","y","0",1,"brush-background"],[1,"brush"]],template:function(i,n){i&1&&(fs(),L(),_(0,"g",0)(1,"filter"),Y(2,"feColorMatrix",1),x(),_(3,"g",2),_s(4),x(),Y(5,"rect",3)(6,"g",4),x()),i&2&&(B("transform",n.transform),g(),B("id",n.filterId),g(4),B("width",n.view[0])("height",n.height))},styles:[`.timeline .brush-background{fill:#0000000d}.timeline .brush .selection{fill:#0000001a;stroke-width:1px;stroke:#888}.timeline .brush .handle{fill-opacity:0}.timeline .embedded-chart{opacity:.6}
`],encapsulation:2,changeDetection:0}),e})();var ze=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=ue({imports:[[en,Ph,Ih],en,Ph,Ih]}),e})();function P0({width:e,height:t,margins:i,showXAxis:n=!1,showYAxis:a=!1,xAxisHeight:s=0,yAxisWidth:r=0,showXLabel:o=!1,showYLabel:l=!1,showLegend:c=!1,legendType:d=D.Ordinal,legendPosition:h=ri.Right,columns:u=12}){let m=i[3],f=e,S=t-i[0]-i[2];return c&&h===ri.Right&&(d===D.Ordinal?u-=2:u-=1),f=f*u/12,f=f-i[1]-i[3],n&&(S-=5,S-=s,o&&(S-=30)),a&&(f-=5,f-=r,m+=r,m+=10,l&&(f-=30,m+=30)),f=Math.max(0,f),S=Math.max(0,S),{width:Math.floor(f),height:Math.floor(S),xOffset:Math.floor(m)}}var Nh=[{name:"vivid",selectable:!0,group:D.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:D.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:D.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:D.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:D.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:D.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:D.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:D.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:D.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:D.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:D.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:D.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:D.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:D.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:D.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}],Lr=class{constructor(t,i,n,a){typeof t=="string"&&(t=Nh.find(s=>s.name===t)),this.colorDomain=t.domain,this.scaleType=i,this.domain=n,this.customColors=a,this.scale=this.generateColorScheme(t,i,this.domain)}generateColorScheme(t,i,n){typeof t=="string"&&(t=Nh.find(s=>s.name===t));let a;switch(i){case D.Quantile:a=Dn().range(t.domain).domain(n);break;case D.Ordinal:a=$t().range(t.domain).domain(n);break;case D.Linear:{let s=[...t.domain];s.length===1&&(s.push(s[0]),this.colorDomain=s);let r=Oi(0,1,1/s.length);a=st().range(s).domain(r)}break;default:break}return a}getColor(t){if(t==null)throw new Error("Value can not be null");if(this.scaleType===D.Linear){let i=st().domain(this.domain).range([0,1]);return this.scale(i(t))}else{if(typeof this.customColors=="function")return this.customColors(t);let i=t.toString(),n;return this.customColors&&this.customColors.length>0&&(n=this.customColors.find(a=>a.name.toLowerCase()===i.toLowerCase())),n?n.value:this.scale(t)}}getLinearGradientStops(t,i){i===void 0&&(i=this.domain[0]);let n=st().domain(this.domain).range([0,1]),a=Vi().domain(this.colorDomain).range([0,1]),s=this.getColor(t),r=n(i),o=this.getColor(i),l=n(t),c=1,d=r,h=[];for(h.push({color:o,offset:r,originalOffset:r,opacity:1});d<l&&c<this.colorDomain.length;){let u=this.colorDomain[c],m=a(u);if(m<=r){c++;continue}if(m.toFixed(4)>=(l-a.bandwidth()).toFixed(4))break;h.push({color:u,offset:m,opacity:1}),d=m,c++}if(h[h.length-1].offset<100&&h.push({color:s,offset:l,opacity:1}),l===r)h[0].offset=0,h[1].offset=100;else if(h[h.length-1].offset!==100)for(let u of h)u.offset=(u.offset-r)/(l-r)*100;return h}};function I0(e){let t=new Set;for(let i of e)for(let n of i.series)t.add(n.name);return Array.from(t)}function B0(e,t=!0){return t&&e.every(a=>a instanceof Date)?D.Time:e.every(n=>typeof n=="number")?D.Linear:D.Ordinal}function R0(e,t,i="asc"){return e.sort((n,a)=>i==="asc"?n[t]-a[t]:a[t]-n[t])}function N0(e,t,i="asc",n){return e.sort((a,s)=>{let r=a[t],o=s[t],l=n.indexOf(r),c=n.indexOf(o);return i==="asc"?l-c:c-l})}function H0(e,t,i="asc"){return e.sort((n,a)=>{let s=n[t].getTime(),r=a[t].getTime();return i==="asc"?s>r?1:r>s?-1:0:s>r?-1:r>s?1:0})}var G0=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=ue({imports:[[ze]]}),e})();var Zh=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=ue({imports:[[ze]]}),e})(),sA=(0,Hh.default)();var Y0=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=ue({imports:[[ze]]}),e})();var z0=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=ue({imports:[[ze]]}),e})();var X0=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=ue({imports:[[ze]]}),e})(),$0=(()=>{class e{constructor(i,n){this.element=i,this.platformId=n,this.fill="none",this.animations=!0,this.initialized=!1,this.isSSR=!1}ngOnInit(){tn(this.platformId)&&(this.isSSR=!0)}ngOnChanges(i){this.initialized?this.updatePathEl():(this.initialized=!0,this.initialPath=this.path)}updatePathEl(){let i=Ae(this.element.nativeElement).select(".line");this.animations?i.transition().duration(750).attr("d",this.path):i.attr("d",this.path)}}return e.\u0275fac=function(i){return new(i||e)(O(Te),O(yt))},e.\u0275cmp=W({type:e,selectors:[["g","ngx-charts-line",""]],inputs:{path:"path",stroke:"stroke",data:"data",fill:"fill",animations:"animations"},features:[pe],attrs:t0,decls:2,vars:2,consts:[[4,"ngIf"],["stroke-width","1.5px",1,"line"]],template:function(i,n){i&1&&P(0,i0,2,4,"g",0)(1,n0,2,3,"g",0),i&2&&(y("ngIf",!n.isSSR),g(),y("ngIf",n.isSSR))},dependencies:[Ye],encapsulation:2,data:{animation:[nn("animationState",[vi(":enter",[Qe({strokeDasharray:2e3,strokeDashoffset:2e3}),xi(1e3,Qe({strokeDashoffset:0}))])])]},changeDetection:0}),e})(),W0=(()=>{class e{constructor(){this.animations=!0,this.barOrientation=oi}ngOnChanges(i){this.update()}update(){this.updateGradients();let i=this.sortData(this.data.series),n=this.getLineGenerator();this.path=n(i)||"";let a=this.getAreaGenerator();if(this.areaPath=a(i)||"",this.hasRange){let s=this.getRangeGenerator();this.outerPath=s(i)||""}if(this.hasGradient){this.stroke=this.gradientUrl;let s=this.data.series.map(l=>l.value),r=Math.max(...s),o=Math.min(...s);r===o&&(this.stroke=this.colors.getColor(r))}else this.stroke=this.colors.getColor(this.data.name)}getLineGenerator(){return Hn().x(i=>{let n=i.name,a;return this.scaleType===D.Time?a=this.xScale(n):this.scaleType===D.Linear?a=this.xScale(Number(n)):a=this.xScale(n),a}).y(i=>this.yScale(i.value)).curve(this.curve)}getRangeGenerator(){return rs().x(i=>{let n=i.name,a;return this.scaleType===D.Time?a=this.xScale(n):this.scaleType===D.Linear?a=this.xScale(Number(n)):a=this.xScale(n),a}).y0(i=>this.yScale(typeof i.min=="number"?i.min:i.value)).y1(i=>this.yScale(typeof i.max=="number"?i.max:i.value)).curve(this.curve)}getAreaGenerator(){let i=n=>{let a=n.name;return this.xScale(a)};return rs().x(i).y0(()=>this.yScale.range()[0]).y1(n=>this.yScale(n.value)).curve(this.curve)}sortData(i){return this.scaleType===D.Linear?i=R0(i,"name"):this.scaleType===D.Time?i=H0(i,"name"):i=N0(i,"name","asc",this.xScale.domain()),i}updateGradients(){if(this.colors.scaleType===D.Linear){this.hasGradient=!0,this.gradientId="grad"+$i().toString(),this.gradientUrl=`url(#${this.gradientId})`;let i=this.data.series.map(s=>s.value),n=Math.max(...i),a=Math.min(...i);this.gradientStops=this.colors.getLinearGradientStops(n,a),this.areaGradientStops=this.colors.getLinearGradientStops(n)}else this.hasGradient=!1,this.gradientStops=void 0,this.areaGradientStops=void 0}isActive(i){return this.activeEntries?this.activeEntries.find(a=>i.name===a.name)!==void 0:!1}isInactive(i){return!this.activeEntries||this.activeEntries.length===0?!1:this.activeEntries.find(a=>i.name===a.name)===void 0}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=W({type:e,selectors:[["g","ngx-charts-line-series",""]],inputs:{data:"data",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",curve:"curve",activeEntries:"activeEntries",rangeFillOpacity:"rangeFillOpacity",hasRange:"hasRange",animations:"animations"},features:[pe],attrs:a0,decls:6,vars:22,consts:[["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops",4,"ngIf"],["ngx-charts-area","",1,"line-highlight",3,"data","path","fill","opacity","startOpacity","gradient","stops","animations"],["ngx-charts-line","",1,"line-series",3,"data","path","stroke","animations"],["ngx-charts-area","","class","line-series-range",3,"data","path","fill","active","inactive","opacity","animations",4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["ngx-charts-area","",1,"line-series-range",3,"data","path","fill","opacity","animations"]],template:function(i,n){i&1&&(L(),_(0,"g")(1,"defs"),P(2,s0,1,3,"g",0),x(),Y(3,"g",1)(4,"g",2),P(5,r0,1,9,"g",3),x()),i&2&&(g(2),y("ngIf",n.hasGradient),g(),Ke("active",n.isActive(n.data))("inactive",n.isInactive(n.data)),y("data",n.data)("path",n.areaPath)("fill",n.hasGradient?n.gradientUrl:n.colors.getColor(n.data.name))("opacity",.25)("startOpacity",0)("gradient",!0)("stops",n.areaGradientStops)("animations",n.animations),g(),Ke("active",n.isActive(n.data))("inactive",n.isInactive(n.data)),y("data",n.data)("path",n.path)("stroke",n.stroke)("animations",n.animations),g(),y("ngIf",n.hasRange))},dependencies:[Er,M0,$0,Ye],encapsulation:2,changeDetection:0}),e})(),Kh=(()=>{class e extends k0{constructor(){super(...arguments),this.legendTitle="Legend",this.legendPosition=ri.Right,this.showGridLines=!0,this.curve=si,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.roundDomains=!1,this.tooltipDisabled=!1,this.showRefLines=!1,this.showRefLabels=!0,this.wrapTicks=!1,this.activate=new H,this.deactivate=new H,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.timelineHeight=50,this.timelinePadding=10,this.isSSR=!1}ngOnInit(){tn(this.platformId)&&(this.isSSR=!0)}update(){super.update(),this.dims=P0({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.timeline&&(this.dims.height-=this.timelineHeight+this.margin[2]+this.timelinePadding),this.xDomain=this.getXDomain(),this.filteredDomain&&(this.xDomain=this.filteredDomain),this.yDomain=this.getYDomain(),this.seriesDomain=this.getSeriesDomain(),this.xScale=this.getXScale(this.xDomain,this.dims.width),this.yScale=this.getYScale(this.yDomain,this.dims.height),this.updateTimeline(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`,this.clipPathId="clip"+$i().toString(),this.clipPath=`url(#${this.clipPathId})`}updateTimeline(){this.timeline&&(this.timelineWidth=this.dims.width,this.timelineXDomain=this.getXDomain(),this.timelineXScale=this.getXScale(this.timelineXDomain,this.timelineWidth),this.timelineYScale=this.getYScale(this.yDomain,this.timelineHeight),this.timelineTransform=`translate(${this.dims.xOffset}, ${-this.margin[2]})`)}getXDomain(){let i=I0(this.results);this.scaleType=B0(i);let n=[];this.scaleType===D.Linear&&(i=i.map(r=>Number(r)));let a,s;return(this.scaleType===D.Time||this.scaleType===D.Linear)&&(a=this.xScaleMin?this.xScaleMin:Math.min(...i),s=this.xScaleMax?this.xScaleMax:Math.max(...i)),this.scaleType===D.Time?(n=[new Date(a),new Date(s)],this.xSet=[...i].sort((r,o)=>{let l=r.getTime(),c=o.getTime();return l>c?1:c>l?-1:0})):this.scaleType===D.Linear?(n=[a,s],this.xSet=[...i].sort((r,o)=>r-o)):(n=i,this.xSet=i),n}getYDomain(){let i=[];for(let r of this.results)for(let o of r.series)i.indexOf(o.value)<0&&i.push(o.value),o.min!==void 0&&(this.hasRange=!0,i.indexOf(o.min)<0&&i.push(o.min)),o.max!==void 0&&(this.hasRange=!0,i.indexOf(o.max)<0&&i.push(o.max));let n=[...i];this.autoScale||n.push(0);let a=this.yScaleMin?this.yScaleMin:Math.min(...n),s=this.yScaleMax?this.yScaleMax:Math.max(...n);return[a,s]}getSeriesDomain(){return this.results.map(i=>i.name)}getXScale(i,n){let a;return this.scaleType===D.Time?a=Nn().range([0,n]).domain(i):this.scaleType===D.Linear?(a=st().range([0,n]).domain(i),this.roundDomains&&(a=a.nice())):this.scaleType===D.Ordinal&&(a=za().range([0,n]).padding(.1).domain(i)),a}getYScale(i,n){let a=st().range([n,0]).domain(i);return this.roundDomains?a.nice():a}updateDomain(i){this.filteredDomain=i,this.xDomain=this.filteredDomain,this.xScale=this.getXScale(this.xDomain,this.dims.width)}updateHoveredVertical(i){this.hoveredVertical=i.value,this.deactivateAll()}hideCircles(){this.hoveredVertical=null,this.deactivateAll()}onClick(i){this.select.emit(i)}trackBy(i,n){return`${n.name}`}setColors(){let i;this.schemeType===D.Ordinal?i=this.seriesDomain:i=this.yDomain,this.colors=new Lr(this.scheme,this.schemeType,i,this.customColors)}getLegendOptions(){let i={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return i.scaleType===D.Ordinal?(i.domain=this.seriesDomain,i.colors=this.colors,i.title=this.legendTitle):(i.domain=this.yDomain,i.colors=this.colors.scale),i}updateYAxisWidth({width:i}){this.yAxisWidth=i,this.update()}updateXAxisHeight({height:i}){this.xAxisHeight=i,this.update()}onActivate(i){this.deactivateAll(),!(this.activeEntries.findIndex(a=>a.name===i.name&&a.value===i.value)>-1)&&(this.activeEntries=[i],this.activate.emit({value:i,entries:this.activeEntries}))}onDeactivate(i){let n=this.activeEntries.findIndex(a=>a.name===i.name&&a.value===i.value);this.activeEntries.splice(n,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:i,entries:this.activeEntries})}deactivateAll(){this.activeEntries=[...this.activeEntries];for(let i of this.activeEntries)this.deactivate.emit({value:i,entries:[]});this.activeEntries=[]}}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=Zn(e)))(n||e)}})(),e.\u0275cmp=W({type:e,selectors:[["ngx-charts-line-chart"]],contentQueries:function(i,n,a){if(i&1&&(xs(a,Kf,5),xs(a,Jf,5)),i&2){let s;je(s=Ue())&&(n.tooltipTemplate=s.first),je(s=Ue())&&(n.seriesTooltipTemplate=s.first)}},hostBindings:function(i,n){i&1&&Q("mouseleave",function(){return n.hideCircles()})},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",autoScale:"autoScale",timeline:"timeline",gradient:"gradient",showGridLines:"showGridLines",curve:"curve",activeEntries:"activeEntries",schemeType:"schemeType",rangeFillOpacity:"rangeFillOpacity",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",roundDomains:"roundDomains",tooltipDisabled:"tooltipDisabled",showRefLines:"showRefLines",referenceLines:"referenceLines",showRefLabels:"showRefLabels",xScaleMin:"xScaleMin",xScaleMax:"xScaleMax",yScaleMin:"yScaleMin",yScaleMax:"yScaleMax",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[bt],decls:12,vars:20,consts:[[3,"legendLabelClick","legendLabelActivate","legendLabelDeactivate","view","showLegend","legendOptions","activeEntries","animations"],[1,"line-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks","dimensionsChanged",4,"ngIf"],[4,"ngIf"],[3,"mouseleave",4,"ngIf"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","scaleType","legend","onDomainChange",4,"ngIf"],["ngx-charts-x-axis","",3,"dimensionsChanged","xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks"],["ngx-charts-y-axis","",3,"dimensionsChanged","yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","activeEntries","scaleType","curve","rangeFillOpacity","hasRange","animations"],[3,"mouseleave"],["ngx-charts-tooltip-area","",3,"hover","dims","xSet","xScale","yScale","results","colors","tooltipDisabled","tooltipTemplate"],[4,"ngFor","ngForOf"],["ngx-charts-circle-series","",3,"select","activate","deactivate","xScale","yScale","colors","data","scaleType","visibleValue","activeEntries","tooltipDisabled","tooltipTemplate"],["ngx-charts-timeline","",3,"onDomainChange","results","view","height","scheme","customColors","scaleType","legend"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","scaleType","curve","hasRange","animations"]],template:function(i,n){i&1&&(_(0,"ngx-charts-chart",0),Q("legendLabelClick",function(s){return n.onClick(s)})("legendLabelActivate",function(s){return n.onActivate(s)})("legendLabelDeactivate",function(s){return n.onDeactivate(s)}),L(),_(1,"defs")(2,"clipPath"),Y(3,"rect"),x()(),_(4,"g",1),P(5,o0,1,11,"g",2)(6,l0,1,13,"g",3),_(7,"g"),P(8,h0,2,2,"g",4)(9,u0,2,2,"g",4)(10,p0,3,9,"g",5),x()(),P(11,f0,2,13,"g",6),x()),i&2&&(y("view",Ji(17,zh,n.width,n.height))("showLegend",n.legend)("legendOptions",n.legendOptions)("activeEntries",n.activeEntries)("animations",n.animations),g(2),B("id",n.clipPathId),g(),B("width",n.dims.width+10)("height",n.dims.height+10)("transform","translate(-5, -5)"),g(),B("transform",n.transform),g(),y("ngIf",n.xAxis),g(),y("ngIf",n.yAxis),g(),B("clip-path",n.clipPath),g(),y("ngIf",!n.isSSR),g(),y("ngIf",n.isSSR),g(),y("ngIf",!n.tooltipDisabled),g(),y("ngIf",n.timeline&&n.scaleType!="ordinal"))},dependencies:[w0,A0,D0,W0,O0,E0,V0,Ye,Rt],styles:[e0],encapsulation:2,data:{animation:[nn("animationState",[vi(":leave",[Qe({opacity:1}),xi(500,Qe({opacity:0}))])])]},changeDetection:0}),e})(),Jh=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=ue({imports:[[ze]]}),e})();var rA=2*Math.PI;var Mr=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=ue({imports:[[ze]]}),e})(),j0=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=ue({imports:[[ze,Mr,Jh]]}),e})();var U0=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=ue({imports:[[ze]]}),e})();var Q0=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=ue({imports:[[ze]]}),e})();var q0=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=ue({imports:[[ze,Mr,Zh]]}),e})();function Z0(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}var K0=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=ue({imports:[[ze]]}),e})(),cs=(()=>{class e{constructor(){Z0()}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=ue({imports:[ze,G0,Zh,Y0,z0,X0,K0,Jh,j0,U0,Mr,Q0,q0]}),e})();var e_=[cs],cA=[...e_];var hs=(()=>{let t=class t{constructor(){this.chartData=[],this.chartLabels=[],this.view=[700,400],this.showXAxis=!0,this.showYAxis=!0,this.gradient=!1,this.showLegend=!1,this.showXAxisLabel=!0,this.xAxisLabel="Time",this.showYAxisLabel=!0,this.yAxisLabel="Price",this.colorScheme={name:"",group:D.Linear,selectable:!1,domain:["#52C51A","#D93638","#1891FF","#717470","#FBAE14"]}}onResize(n){n.target.innerWidth<1200&&(this.view=[n.target.innerWidth/1.35,400])}ngOnChanges(){this.chartData=[{name:this.symbol,series:this.labels.map((n,a)=>({name:n,value:this.data[a]}))}]}};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=W({type:t,selectors:[["app-crypto-chart"]],inputs:{symbol:"symbol",data:"data",labels:"labels"},standalone:!0,features:[pe,Je],decls:1,vars:11,consts:[[3,"resize","view","scheme","results","gradient","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel"]],template:function(a,s){a&1&&(_(0,"ngx-charts-line-chart",0),Q("resize",function(o){return s.onResize(o)},!1,Kn),x()),a&2&&y("view",s.view)("scheme",s.colorScheme)("results",s.chartData)("gradient",s.gradient)("xAxis",s.showXAxis)("yAxis",s.showYAxis)("legend",s.showLegend)("showXAxisLabel",s.showXAxisLabel)("showYAxisLabel",s.showYAxisLabel)("xAxisLabel",s.xAxisLabel)("yAxisLabel",s.yAxisLabel)},dependencies:[cs,Kh]});let e=t;return e})();var i_=[na],n_=[hs],fA=[...n_,...i_];var ed=fo(),Or=class{constructor(t,i){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ge(-this._previousScrollPosition.left),t.style.top=ge(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,i=this._document.body,n=t.style,a=i.style,s=n.scrollBehavior||"",r=a.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),ed&&(n.scrollBehavior=a.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ed&&(n.scrollBehavior=s,a.scrollBehavior=r)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let i=this._document.body,n=this._viewportRuler.getViewportSize();return i.scrollHeight>n.height||i.scrollWidth>n.width}};var Vr=class{constructor(t,i,n,a){this._scrollDispatcher=t,this._ngZone=i,this._viewportRuler=n,this._config=a,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Mt(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},ds=class{enable(){}disable(){}attach(){}};function Pr(e,t){return t.some(i=>{let n=e.bottom<i.top,a=e.top>i.bottom,s=e.right<i.left,r=e.left>i.right;return n||a||s||r})}function td(e,t){return t.some(i=>{let n=e.top<i.top,a=e.bottom>i.bottom,s=e.left<i.left,r=e.right>i.right;return n||a||s||r})}var Ir=class{constructor(t,i,n,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=n,this._config=a,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:a}=this._viewportRuler.getViewportSize();Pr(i,[{width:n,height:a,bottom:a,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},a_=(()=>{let t=class t{constructor(n,a,s,r){this._scrollDispatcher=n,this._viewportRuler=a,this._ngZone=s,this.noop=()=>new ds,this.close=o=>new Vr(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Or(this._viewportRuler,this._document),this.reposition=o=>new Ir(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=r}};t.\u0275fac=function(a){return new(a||t)(E(_o),E(ws),E(Ge),E(Re))},t.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),zn=class{constructor(t){if(this.scrollStrategy=new ds,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let i=Object.keys(t);for(let n of i)t[n]!==void 0&&(this[n]=t[n])}}};var Br=class{constructor(t,i){this.connectionPair=t,this.scrollableViewProperties=i}};var ld=(()=>{let t=class t{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let a=this._attachedOverlays.indexOf(n);a>-1&&this._attachedOverlays.splice(a,1),this._attachedOverlays.length===0&&this.detach()}};t.\u0275fac=function(a){return new(a||t)(E(Re))},t.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),s_=(()=>{let t=class t extends ld{constructor(n,a){super(n),this._ngZone=a,this._keydownListener=s=>{let r=this._attachedOverlays;for(let o=r.length-1;o>-1;o--)if(r[o]._keydownEvents.observers.length>0){let l=r[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(s)):l.next(s);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};t.\u0275fac=function(a){return new(a||t)(E(Re),E(Ge,8))},t.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),r_=(()=>{let t=class t extends ld{constructor(n,a,s){super(n),this._platform=a,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=Ts(r)},this._clickListener=r=>{let o=Ts(r),l=r.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;let c=this._attachedOverlays.slice();for(let d=c.length-1;d>-1;d--){let h=c[d];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(id(h.overlayElement,o)||id(h.overlayElement,l))break;let u=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(r)):u.next(r)}}}add(n){if(super.add(n),!this._isAttached){let a=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(a)):this._addEventListeners(a),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=a.style.cursor,a.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}};t.\u0275fac=function(a){return new(a||t)(E(Re),E(yi),E(Ge,8))},t.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function id(e,t){let i=typeof ShadowRoot<"u"&&ShadowRoot,n=t;for(;n;){if(n===e)return!0;n=i&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var Wi=(()=>{let t=class t{constructor(n,a){this._platform=a,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||Cs()){let s=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let r=0;r<s.length;r++)s[r].remove()}let a=this._document.createElement("div");a.classList.add(n),Cs()?a.setAttribute("platform","test"):this._platform.isBrowser||a.setAttribute("platform","server"),this._document.body.appendChild(a),this._containerElement=a}};t.\u0275fac=function(a){return new(a||t)(E(Re),E(yi))},t.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),_t=class{constructor(t,i,n,a,s,r,o,l,c,d=!1,h){this._portalOutlet=t,this._host=i,this._pane=n,this._config=a,this._ngZone=s,this._keyboardDispatcher=r,this._document=o,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=h,this._backdropElement=null,this._backdropClick=new he,this._attachments=new he,this._detachments=new he,this._locationChanges=ms.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new he,this._outsidePointerEvents=new he,this._renders=new he,a.scrollStrategy&&(this._scrollStrategy=a.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=a.positionStrategy,this._afterRenderRef=ao(()=>Zr(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let i=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),ea(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof i?.onDestroy=="function"&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=fe(fe({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Qi(fe({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=ge(this._config.width),t.height=ge(this._config.height),t.minWidth=ge(this._config.minWidth),t.minHeight=ge(this._config.minHeight),t.maxWidth=ge(this._config.maxWidth),t.maxHeight=ge(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,i,n){let a=bs(i||[]).filter(s=>!!s);a.length&&(n?t.classList.add(...a):t.classList.remove(...a))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(vt(Un(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},nd="cdk-overlay-connected-position-bounding-box",o_=/([A-Za-z%]+)$/,Rr=class{get positions(){return this._preferredPositions}constructor(t,i,n,a,s){this._viewportRuler=i,this._document=n,this._platform=a,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new he,this._resizeSubscription=ms.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(nd),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,i=this._overlayRect,n=this._viewportRect,a=this._containerRect,s=[],r;for(let o of this._preferredPositions){let l=this._getOriginPoint(t,a,o),c=this._getOverlayPoint(l,i,o),d=this._getOverlayFit(c,i,n,o);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(o,l);return}if(this._canFitWithFlexibleDimensions(d,c,n)){s.push({position:o,origin:l,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(l,o)});continue}(!r||r.overlayFit.visibleArea<d.visibleArea)&&(r={overlayFit:d,overlayPoint:c,originPoint:l,position:o,overlayRect:i})}if(s.length){let o=null,l=-1;for(let c of s){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,o=c)}this._isPushed=!1,this._applyPosition(o.position,o.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(r.position,r.originPoint);return}this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&li(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(nd),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,i)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,i,n){let a;if(n.originX=="center")a=t.left+t.width/2;else{let r=this._isRtl()?t.right:t.left,o=this._isRtl()?t.left:t.right;a=n.originX=="start"?r:o}i.left<0&&(a-=i.left);let s;return n.originY=="center"?s=t.top+t.height/2:s=n.originY=="top"?t.top:t.bottom,i.top<0&&(s-=i.top),{x:a,y:s}}_getOverlayPoint(t,i,n){let a;n.overlayX=="center"?a=-i.width/2:n.overlayX==="start"?a=this._isRtl()?-i.width:0:a=this._isRtl()?0:-i.width;let s;return n.overlayY=="center"?s=-i.height/2:s=n.overlayY=="top"?0:-i.height,{x:t.x+a,y:t.y+s}}_getOverlayFit(t,i,n,a){let s=sd(i),{x:r,y:o}=t,l=this._getOffset(a,"x"),c=this._getOffset(a,"y");l&&(r+=l),c&&(o+=c);let d=0-r,h=r+s.width-n.width,u=0-o,m=o+s.height-n.height,f=this._subtractOverflows(s.width,d,h),S=this._subtractOverflows(s.height,u,m),p=f*S;return{visibleArea:p,isCompletelyWithinViewport:s.width*s.height===p,fitsInViewportVertically:S===s.height,fitsInViewportHorizontally:f==s.width}}_canFitWithFlexibleDimensions(t,i,n){if(this._hasFlexibleDimensions){let a=n.bottom-i.y,s=n.right-i.x,r=ad(this._overlayRef.getConfig().minHeight),o=ad(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||r!=null&&r<=a,c=t.fitsInViewportHorizontally||o!=null&&o<=s;return l&&c}return!1}_pushOverlayOnScreen(t,i,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let a=sd(i),s=this._viewportRect,r=Math.max(t.x+a.width-s.width,0),o=Math.max(t.y+a.height-s.height,0),l=Math.max(s.top-n.top-t.y,0),c=Math.max(s.left-n.left-t.x,0),d=0,h=0;return a.width<=s.width?d=c||-r:d=t.x<this._viewportMargin?s.left-n.left-t.x:0,a.height<=s.height?h=l||-o:h=t.y<this._viewportMargin?s.top-n.top-t.y:0,this._previousPushAmount={x:d,y:h},{x:t.x+d,y:t.y+h}}_applyPosition(t,i){if(this._setTransformOrigin(t),this._setOverlayElementStyles(i,t),this._setBoundingBoxStyles(i,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!l_(this._lastScrollVisibility,n)){let a=new Br(t,n);this._positionChanges.next(a)}this._lastScrollVisibility=n}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let i=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,a=t.overlayY;t.overlayX==="center"?n="center":this._isRtl()?n=t.overlayX==="start"?"right":"left":n=t.overlayX==="start"?"left":"right";for(let s=0;s<i.length;s++)i[s].style.transformOrigin=`${n} ${a}`}_calculateBoundingBoxRect(t,i){let n=this._viewportRect,a=this._isRtl(),s,r,o;if(i.overlayY==="top")r=t.y,s=n.height-r+this._viewportMargin;else if(i.overlayY==="bottom")o=n.height-t.y+this._viewportMargin*2,s=n.height-o+this._viewportMargin;else{let m=Math.min(n.bottom-t.y+n.top,t.y),f=this._lastBoundingBoxSize.height;s=m*2,r=t.y-m,s>f&&!this._isInitialRender&&!this._growAfterOpen&&(r=t.y-f/2)}let l=i.overlayX==="start"&&!a||i.overlayX==="end"&&a,c=i.overlayX==="end"&&!a||i.overlayX==="start"&&a,d,h,u;if(c)u=n.width-t.x+this._viewportMargin*2,d=t.x-this._viewportMargin;else if(l)h=t.x,d=n.right-t.x;else{let m=Math.min(n.right-t.x+n.left,t.x),f=this._lastBoundingBoxSize.width;d=m*2,h=t.x-m,d>f&&!this._isInitialRender&&!this._growAfterOpen&&(h=t.x-f/2)}return{top:r,left:h,bottom:o,right:u,width:d,height:s}}_setBoundingBoxStyles(t,i){let n=this._calculateBoundingBoxRect(t,i);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let a={};if(this._hasExactPosition())a.top=a.left="0",a.bottom=a.right=a.maxHeight=a.maxWidth="",a.width=a.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;a.height=ge(n.height),a.top=ge(n.top),a.bottom=ge(n.bottom),a.width=ge(n.width),a.left=ge(n.left),a.right=ge(n.right),i.overlayX==="center"?a.alignItems="center":a.alignItems=i.overlayX==="end"?"flex-end":"flex-start",i.overlayY==="center"?a.justifyContent="center":a.justifyContent=i.overlayY==="bottom"?"flex-end":"flex-start",s&&(a.maxHeight=ge(s)),r&&(a.maxWidth=ge(r))}this._lastBoundingBoxSize=n,li(this._boundingBox.style,a)}_resetBoundingBoxStyles(){li(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){li(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,i){let n={},a=this._hasExactPosition(),s=this._hasFlexibleDimensions,r=this._overlayRef.getConfig();if(a){let d=this._viewportRuler.getViewportScrollPosition();li(n,this._getExactOverlayY(i,t,d)),li(n,this._getExactOverlayX(i,t,d))}else n.position="static";let o="",l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=`translateX(${l}px) `),c&&(o+=`translateY(${c}px)`),n.transform=o.trim(),r.maxHeight&&(a?n.maxHeight=ge(r.maxHeight):s&&(n.maxHeight="")),r.maxWidth&&(a?n.maxWidth=ge(r.maxWidth):s&&(n.maxWidth="")),li(this._pane.style,n)}_getExactOverlayY(t,i,n){let a={top:"",bottom:""},s=this._getOverlayPoint(i,this._overlayRect,t);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),t.overlayY==="bottom"){let r=this._document.documentElement.clientHeight;a.bottom=`${r-(s.y+this._overlayRect.height)}px`}else a.top=ge(s.y);return a}_getExactOverlayX(t,i,n){let a={left:"",right:""},s=this._getOverlayPoint(i,this._overlayRect,t);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n));let r;if(this._isRtl()?r=t.overlayX==="end"?"left":"right":r=t.overlayX==="end"?"right":"left",r==="right"){let o=this._document.documentElement.clientWidth;a.right=`${o-(s.x+this._overlayRect.width)}px`}else a.left=ge(s.x);return a}_getScrollVisibility(){let t=this._getOriginRect(),i=this._pane.getBoundingClientRect(),n=this._scrollables.map(a=>a.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:td(t,n),isOriginOutsideView:Pr(t,n),isOverlayClipped:td(i,n),isOverlayOutsideView:Pr(i,n)}}_subtractOverflows(t,...i){return i.reduce((n,a)=>n-Math.max(a,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+i-this._viewportMargin,width:t-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,i){return i==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&bs(t).forEach(i=>{i!==""&&this._appliedPanelClasses.indexOf(i)===-1&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof Te)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let i=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+i,height:n,width:i}}};function li(e,t){for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function ad(e){if(typeof e!="number"&&e!=null){let[t,i]=e.split(o_);return!i||i==="px"?parseFloat(t):null}return e||null}function sd(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function l_(e,t){return e===t?!0:e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}var rd="cdk-global-overlay-wrapper",Nr=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let i=t.getConfig();this._overlayRef=t,this._width&&!i.width&&t.updateSize({width:this._width}),this._height&&!i.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(rd),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:a,height:s,maxWidth:r,maxHeight:o}=n,l=(a==="100%"||a==="100vw")&&(!r||r==="100%"||r==="100vw"),c=(s==="100%"||s==="100vh")&&(!o||o==="100%"||o==="100vh"),d=this._xPosition,h=this._xOffset,u=this._overlayRef.getConfig().direction==="rtl",m="",f="",S="";l?S="flex-start":d==="center"?(S="center",u?f=h:m=h):u?d==="left"||d==="end"?(S="flex-end",m=h):(d==="right"||d==="start")&&(S="flex-start",f=h):d==="left"||d==="start"?(S="flex-start",m=h):(d==="right"||d==="end")&&(S="flex-end",f=h),t.position=this._cssPosition,t.marginLeft=l?"0":m,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":f,i.justifyContent=S,i.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,n=i.style;i.classList.remove(rd),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},c_=(()=>{let t=class t{constructor(n,a,s,r){this._viewportRuler=n,this._document=a,this._platform=s,this._overlayContainer=r}global(){return new Nr}flexibleConnectedTo(n){return new Rr(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};t.\u0275fac=function(a){return new(a||t)(E(ws),E(Re),E(yi),E(Wi))},t.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),h_=0,Ft=(()=>{let t=class t{constructor(n,a,s,r,o,l,c,d,h,u,m,f){this.scrollStrategies=n,this._overlayContainer=a,this._componentFactoryResolver=s,this._positionBuilder=r,this._keyboardDispatcher=o,this._injector=l,this._ngZone=c,this._document=d,this._directionality=h,this._location=u,this._outsideClickDispatcher=m,this._animationsModuleType=f}create(n){let a=this._createHostElement(),s=this._createPaneElement(a),r=this._createPortalOutlet(s),o=new zn(n);return o.direction=o.direction||this._directionality.value,new _t(r,a,s,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Qr))}position(){return this._positionBuilder}_createPaneElement(n){let a=this._document.createElement("div");return a.id=`cdk-overlay-${h_++}`,a.classList.add("cdk-overlay-pane"),n.appendChild(a),a}_createHostElement(){let n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(ta)),new Ci(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};t.\u0275fac=function(a){return new(a||t)(E(a_),E(Wi),E(mi),E(c_),E(s_),E(Ie),E(Ge),E(Re),E(an),E(ia),E(r_),E(qi,8))},t.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function m_(e,t){}var ci=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var Yr=(()=>{let t=class t extends Ti{constructor(n,a,s,r,o,l,c,d){super(),this._elementRef=n,this._focusTrapFactory=a,this._config=r,this._interactivityChecker=o,this._ngZone=l,this._overlayRef=c,this._focusMonitor=d,this._platform=We(yi),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=We(_i),this._injector=We(Ie),this._isDestroyed=!1,this.attachDomPortal=h=>{this._portalOutlet.hasAttached();let u=this._portalOutlet.attachDomPortal(h);return this._contentAttached(),u},this._document=s,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(n){this._ariaLabelledByQueue.push(n),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(n){let a=this._ariaLabelledByQueue.indexOf(n);a>-1&&(this._ariaLabelledByQueue.splice(a,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(n){this._portalOutlet.hasAttached();let a=this._portalOutlet.attachComponentPortal(n);return this._contentAttached(),a}attachTemplatePortal(n){this._portalOutlet.hasAttached();let a=this._portalOutlet.attachTemplatePortal(n);return this._contentAttached(),a}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(n,a){this._interactivityChecker.isFocusable(n)||(n.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let s=()=>{n.removeEventListener("blur",s),n.removeEventListener("mousedown",s),n.removeAttribute("tabindex")};n.addEventListener("blur",s),n.addEventListener("mousedown",s)})),n.focus(a)}_focusByCssSelector(n,a){let s=this._elementRef.nativeElement.querySelector(n);s&&this._forceFocus(s,a)}_trapFocus(){this._isDestroyed||ea(()=>{let n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let n=this._config.restoreFocus,a=null;if(typeof n=="string"?a=this._document.querySelector(n):typeof n=="boolean"?a=n?this._elementFocusedBeforeDialogWasOpened:null:n&&(a=n),this._config.restoreFocus&&a&&typeof a.focus=="function"){let s=aa(),r=this._elementRef.nativeElement;(!s||s===this._document.body||s===r||r.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(a,this._closeInteractionType),this._closeInteractionType=null):a.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let n=this._elementRef.nativeElement,a=aa();return n===a||n.contains(a)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=aa()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};t.\u0275fac=function(a){return new(a||t)(O(Te),O(oa),O(Re,8),O(ci),O(ra),O(Ge),O(_t),O(la))},t.\u0275cmp=W({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(a,s){if(a&1&&ct(rn,7),a&2){let r;je(r=Ue())&&(s._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(a,s){a&2&&B("id",s._config.id||null)("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null)},standalone:!0,features:[bt,Je],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(a,s){a&1&&P(0,m_,0,0,"ng-template",0)},dependencies:[rn],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let e=t;return e})(),Xn=class{constructor(t,i){this.overlayRef=t,this.config=i,this.closed=new he,this.disableClose=i.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=i.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!sa(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{i.closeOnOverlayDetachments!==!1&&this.close()})}close(t,i){if(this.containerInstance){let n=this.closed;this.containerInstance._closeInteractionType=i?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(t),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",i=""){return this.overlayRef.updateSize({width:t,height:i}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},p_=new lt("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=We(Ft);return()=>e.scrollStrategies.block()}}),g_=new lt("DialogData"),f_=new lt("DefaultDialogConfig");var __=0,hd=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(n,a,s,r,o,l){this._overlay=n,this._injector=a,this._defaultOptions=s,this._parentDialog=r,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new he,this._afterOpenedAtThisLevel=new he,this._ariaHiddenElements=new Map,this.afterAllClosed=jn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(qn(void 0))),this._scrollStrategy=l}open(n,a){let s=this._defaultOptions||new ci;a=fe(fe({},s),a),a.id=a.id||`cdk-dialog-${__++}`,a.id&&this.getDialogById(a.id);let r=this._getOverlayConfig(a),o=this._overlay.create(r),l=new Xn(o,a),c=this._attachContainer(o,l,a);return l.containerInstance=c,this._attachDialogContent(n,l,c,a),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){Hr(this.openDialogs,n=>n.close())}getDialogById(n){return this.openDialogs.find(a=>a.id===n)}ngOnDestroy(){Hr(this._openDialogsAtThisLevel,n=>{n.config.closeOnDestroy===!1&&this._removeOpenDialog(n,!1)}),Hr(this._openDialogsAtThisLevel,n=>n.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(n){let a=new zn({positionStrategy:n.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,width:n.width,height:n.height,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(a.backdropClass=n.backdropClass),a}_attachContainer(n,a,s){let r=s.injector||s.viewContainerRef?.injector,o=[{provide:ci,useValue:s},{provide:Xn,useValue:a},{provide:_t,useValue:n}],l;s.container?typeof s.container=="function"?l=s.container:(l=s.container.type,o.push(...s.container.providers(s))):l=Yr;let c=new Ct(l,s.viewContainerRef,Ie.create({parent:r||this._injector,providers:o}),s.componentFactoryResolver);return n.attach(c).instance}_attachDialogContent(n,a,s,r){if(n instanceof Jn){let o=this._createInjector(r,a,s,void 0),l={$implicit:r.data,dialogRef:a};r.templateContext&&(l=fe(fe({},l),typeof r.templateContext=="function"?r.templateContext():r.templateContext)),s.attachTemplatePortal(new bi(n,null,l,o))}else{let o=this._createInjector(r,a,s,this._injector),l=s.attachComponentPortal(new Ct(n,r.viewContainerRef,o,r.componentFactoryResolver));a.componentRef=l,a.componentInstance=l.instance}}_createInjector(n,a,s,r){let o=n.injector||n.viewContainerRef?.injector,l=[{provide:g_,useValue:n.data},{provide:Xn,useValue:a}];return n.providers&&(typeof n.providers=="function"?l.push(...n.providers(a,n,s)):l.push(...n.providers)),n.direction&&(!o||!o.get(an,null,{optional:!0}))&&l.push({provide:an,useValue:{value:n.direction,change:Wr()}}),Ie.create({parent:o||r,providers:l})}_removeOpenDialog(n,a){let s=this.openDialogs.indexOf(n);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,o)=>{r?o.setAttribute("aria-hidden",r):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),a&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let n=this._overlayContainer.getContainerElement();if(n.parentElement){let a=n.parentElement.children;for(let s=a.length-1;s>-1;s--){let r=a[s];r!==n&&r.nodeName!=="SCRIPT"&&r.nodeName!=="STYLE"&&!r.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}};t.\u0275fac=function(a){return new(a||t)(E(Ft),E(Ie),E(f_,8),E(t,12),E(Wi),E(p_))},t.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Hr(e,t){let i=e.length;for(;i--;)t(e[i])}function x_(e,t){}var $n=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},zr="mdc-dialog--open",dd="mdc-dialog--opening",ud="mdc-dialog--closing",v_=150,y_=75,b_=(()=>{let t=class t extends Yr{constructor(n,a,s,r,o,l,c,d,h){super(n,a,s,r,o,l,c,h),this._animationMode=d,this._animationStateChanged=new H,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?pd(this._config.enterAnimationDuration)??v_:0,this._exitAnimationDuration=this._animationsEnabled?pd(this._config.exitAnimationDuration)??y_:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(md,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(dd,zr)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(zr),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(zr),this._animationsEnabled?(this._hostElement.style.setProperty(md,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ud)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(n){this._actionSectionCount+=n,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(dd,ud)}_waitForAnimationToComplete(n,a){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(a,n)}_requestAnimationFrame(n){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(n):n()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(n){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(n){let a=super.attachComponentPortal(n);return a.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),a}};t.\u0275fac=function(a){return new(a||t)(O(Te),O(oa),O(Re,8),O($n),O(ra),O(Ge),O(_t),O(qi,8),O(la))},t.\u0275cmp=W({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(a,s){a&2&&(no("id",s._config.id),B("aria-modal",s._config.ariaModal)("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),Ke("_mat-animation-noopable",!s._animationsEnabled)("mat-mdc-dialog-container-with-actions",s._actionSectionCount>0))},standalone:!0,features:[bt,Je],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(a,s){a&1&&(_(0,"div",0)(1,"div",1),P(2,x_,0,0,"ng-template",2),x()())},dependencies:[rn],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2});let e=t;return e})(),md="--mat-dialog-transition-duration";function pd(e){return e==null?null:typeof e=="number"?e:e.endsWith("ms")?ys(e.substring(0,e.length-2)):e.endsWith("s")?ys(e.substring(0,e.length-1))*1e3:e==="0"?0:null}var us=function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e}(us||{}),Wn=class{constructor(t,i,n){this._ref=t,this._containerInstance=n,this._afterOpened=new he,this._beforeClosed=new he,this._state=us.OPEN,this.disableClose=i.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(Mt(a=>a.state==="opened"),Qn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(Mt(a=>a.state==="closed"),Qn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Un(this.backdropClick(),this.keydownEvents().pipe(Mt(a=>a.keyCode===27&&!this.disableClose&&!sa(a)))).subscribe(a=>{this.disableClose||(a.preventDefault(),T_(this,a.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Mt(i=>i.state==="closing"),Qn(1)).subscribe(i=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=us.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let i=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?i.left(t.left):i.right(t.right):i.centerHorizontally(),t&&(t.top||t.bottom)?t.top?i.top(t.top):i.bottom(t.bottom):i.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",i=""){return this._ref.updateSize(t,i),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=us.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function T_(e,t,i){return e._closeInteractionType=t,e.close(i)}var C_=new lt("MatMdcDialogData"),w_=new lt("mat-mdc-dialog-default-options"),S_=new lt("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let e=We(Ft);return()=>e.scrollStrategies.block()}});var k_=0,gd=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(n,a,s,r,o,l,c,d){this._overlay=n,this._defaultOptions=r,this._scrollStrategy=o,this._parentDialog=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new he,this._afterOpenedAtThisLevel=new he,this.dialogConfigClass=$n,this.afterAllClosed=jn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(qn(void 0))),this._dialog=a.get(hd),this._dialogRefConstructor=Wn,this._dialogContainerType=b_,this._dialogDataToken=C_}open(n,a){let s;a=fe(fe({},this._defaultOptions||new $n),a),a.id=a.id||`mat-mdc-dialog-${k_++}`,a.scrollStrategy=a.scrollStrategy||this._scrollStrategy();let r=this._dialog.open(n,Qi(fe({},a),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:a},{provide:ci,useValue:a}]},templateContext:()=>({dialogRef:s}),providers:(o,l,c)=>(s=new this._dialogRefConstructor(o,a,c),s.updatePosition(a?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:s}])}));return s.componentRef=r.componentRef,s.componentInstance=r.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{let o=this.openDialogs.indexOf(s);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(n){return this.openDialogs.find(a=>a.id===n)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(n){let a=n.length;for(;a--;)n[a].close()}};t.\u0275fac=function(a){return new(a||t)(E(Ft),E(Ie),E(ia,8),E(w_,8),E(S_),E(t,12),E(Wi),E(qi,8))},t.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var _d=(()=>{let t=class t{constructor(n){this.dialogRef=n,this.filters={minVolume:null,maxVolume:null,minPriceChange:null,maxPriceChange:null,minPrice:null,maxPrice:null}}applyFilters(){this.dialogRef.close(this.filters)}};t.\u0275fac=function(a){return new(a||t)(O(Wn))},t.\u0275cmp=W({type:t,selectors:[["app-filter-dialog"]],standalone:!0,features:[Je],decls:30,vars:6,consts:[[1,"container"],[3,"ngSubmit"],["for","minVolume"],["type","number","id","minVolume","name","minVolume",3,"ngModelChange","ngModel"],["for","maxVolume"],["type","number","id","maxVolume","name","maxVolume",3,"ngModelChange","ngModel"],["for","minPriceChange"],["type","number","id","minPriceChange","name","minPriceChange",3,"ngModelChange","ngModel"],["for","maxPriceChange"],["type","number","id","maxPriceChange","name","maxPriceChange",3,"ngModelChange","ngModel"],["for","minPrice"],["type","number","id","minPrice","name","minPrice",3,"ngModelChange","ngModel"],["for","maxPrice"],["type","number","id","maxPrice","name","maxPrice",3,"ngModelChange","ngModel"],["type","submit"]],template:function(a,s){a&1&&(_(0,"div",0)(1,"h2"),z(2,"Filter Crypto Currencies"),x(),_(3,"form",1),Q("ngSubmit",function(){return s.applyFilters()}),_(4,"div")(5,"label",2),z(6,"Min Trade Volume (USDT)"),x(),_(7,"input",3),Bt("ngModelChange",function(o){return It(s.filters.minVolume,o)||(s.filters.minVolume=o),o}),x()(),_(8,"div")(9,"label",4),z(10,"Max Trade Volume (USDT)"),x(),_(11,"input",5),Bt("ngModelChange",function(o){return It(s.filters.maxVolume,o)||(s.filters.maxVolume=o),o}),x()(),_(12,"div")(13,"label",6),z(14,"Min Price Change (%)"),x(),_(15,"input",7),Bt("ngModelChange",function(o){return It(s.filters.minPriceChange,o)||(s.filters.minPriceChange=o),o}),x()(),_(16,"div")(17,"label",8),z(18,"Max Price Change (%)"),x(),_(19,"input",9),Bt("ngModelChange",function(o){return It(s.filters.maxPriceChange,o)||(s.filters.maxPriceChange=o),o}),x()(),_(20,"div")(21,"label",10),z(22,"Min Price"),x(),_(23,"input",11),Bt("ngModelChange",function(o){return It(s.filters.minPrice,o)||(s.filters.minPrice=o),o}),x()(),_(24,"div")(25,"label",12),z(26,"Max Price"),x(),_(27,"input",13),Bt("ngModelChange",function(o){return It(s.filters.maxPrice,o)||(s.filters.maxPrice=o),o}),x()(),_(28,"button",14),z(29,"Apply Filters"),x()()()),a&2&&(g(7),Pt("ngModel",s.filters.minVolume),g(4),Pt("ngModel",s.filters.maxVolume),g(4),Pt("ngModel",s.filters.minPriceChange),g(4),Pt("ngModel",s.filters.maxPriceChange),g(4),Pt("ngModel",s.filters.minPrice),g(4),Pt("ngModel",s.filters.maxPrice))},dependencies:[go,mo,oo,po,lo,co,uo,ho],styles:[".container[_ngcontent-%COMP%]{padding:2rem}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--primary-color);font-size:24px;margin-bottom:20px}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:15px}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:var(--label-color);font-size:var(--font-size-secondary)}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{width:100%}"]});let e=t;return e})();var A_=(e,t)=>t.symbol,L_=(e,t)=>({"odd-row":e,"even-row":t});function D_(e,t){if(e&1){let i=Be();_(0,"tr",6),Q("click",function(){let a=ne(i).$implicit,s=b();return ae(s.onCryptoClick(a))}),_(1,"td"),z(2),x(),_(3,"td"),z(4),x(),_(5,"td"),z(6),x(),_(7,"td"),z(8),x()()}if(e&2){let i=t.$implicit,n=t.$index;y("ngClass",Ji(5,L_,n%2!==0,n%2===0)),g(2),$e(i.symbol),g(2),$e(i.lastPrice),g(2),$e(i.priceChangePercent),g(2),$e(i.quoteVolume)}}function F_(e,t){if(e&1&&Y(0,"app-crypto-chart",5),e&2){let i=b();y("symbol",i.selectedCrypto.symbol)("data",i.selectedCryptoData)("labels",i.selectedCryptoLabels)}}function E_(e,t){e&1&&(_(0,"p"),z(1,"No crypto selected."),x())}var BL=(()=>{let t=class t{fetchData(){this.binanceService.get24hrTicker().pipe(vt(this._unsubscribeService.destroy$)).subscribe(n=>{this.cryptos=n.filter(a=>a.symbol.endsWith("USDT")),this.applyFilters(this.filters),this.subscribeToTickerStream()})}subscribeToTickerStream(){let n=this.cryptos.map(a=>a.symbol);this.tickerStream$=this.binanceService.subscribeTickerStream(n),this.tickerStream$.pipe(vt(this._unsubscribeService.destroy$)).subscribe(a=>{let s=JSON.parse(a.data);this.updateCryptoData(s)})}updateCryptoData(n){let a=this.cryptos.findIndex(s=>s.symbol===n.s);a!==-1&&(this.cryptos[a].lastPrice=n.c,this.cryptos[a].priceChangePercent=n.P,this.cryptos[a].quoteVolume=n.q,this.applyFilters(this.filters))}openFilterDialog(){this.dialog.open(_d,{width:"500px"}).afterClosed().subscribe(a=>{a&&(this.filters=a,this.applyFilters(this.filters))})}applyFilters(n){this.filteredCryptos=this.cryptos.filter(a=>(!n.minVolume||a.quoteVolume>=n.minVolume)&&(!n.maxVolume||a.quoteVolume<=n.maxVolume)&&(!n.minPriceChange||a.priceChangePercent>=n.minPriceChange)&&(!n.maxPriceChange||a.priceChangePercent<=n.maxPriceChange)&&(!n.minPrice||a.lastPrice>=n.minPrice)&&(!n.maxPrice||a.lastPrice<=n.maxPrice))}onCryptoClick(n){this.selectedCrypto=n,this.fetchCryptoHistory(n.symbol)}fetchCryptoHistory(n){this.binanceService.getKlines(n,"1d").pipe(vt(this._unsubscribeService.destroy$)).subscribe(a=>{this.selectedCryptoData=a.map(s=>parseFloat(s[4])),this.selectedCryptoLabels=a.map(s=>new Date(s[0]).toLocaleDateString())})}constructor(n){this.dialog=n,this._unsubscribeService=We(Ss),this.binanceService=We(vo),this.cryptos=[],this.filteredCryptos=[],this.filters={},this.selectedCrypto=null,this.selectedCryptoData=[],this.selectedCryptoLabels=[]}ngOnInit(){this.fetchData()}};t.\u0275fac=function(a){return new(a||t)(O(gd))},t.\u0275cmp=W({type:t,selectors:[["app-crypto-list"]],standalone:!0,features:[Ki([Ss]),Je],decls:22,vars:1,consts:[["type","button","value","Open Filter Dialog",1,"margin-bottom",3,"click"],[1,"container"],[1,"panel","left"],[1,"hover-row",3,"ngClass"],[1,"panel","right"],[3,"symbol","data","labels"],[1,"hover-row",3,"click","ngClass"]],template:function(a,s){a&1&&(_(0,"input",0),Q("click",function(){return s.openFilterDialog()}),x(),_(1,"div",1)(2,"div",2)(3,"h2"),z(4,"Crypto Currency List"),x(),_(5,"table")(6,"thead")(7,"tr")(8,"th"),z(9,"Symbol"),x(),_(10,"th"),z(11,"Price"),x(),_(12,"th"),z(13,"Price Change (%)"),x(),_(14,"th"),z(15,"Volume (USDT)"),x()()(),_(16,"tbody"),to(17,D_,9,8,"tr",3,A_),x()()(),_(19,"div",4),P(20,F_,1,3,"app-crypto-chart",5)(21,E_,2,0,"p"),x()()),a&2&&(g(17),io(s.filteredCryptos),g(3),eo(s.selectedCrypto?20:21))},dependencies:[hs,na],styles:[".margin-bottom[_ngcontent-%COMP%]{margin-bottom:3rem}.container[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif;display:flex;height:80vh;font-size:var(--font-size-secondary)!important}.container[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]{flex:1;padding:1.3rem;box-sizing:border-box;border:1px solid var(--secondary-color)}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{padding:var(--padding);overflow-y:scroll;scrollbar-color:var(--tertiary-color) var(--secondary-color-m);scrollbar-width:thin}.container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.hover-row[_ngcontent-%COMP%]:hover{background-color:var(--tertiary-color-m);color:var(--tertiary-color-l);cursor:pointer;transition:background-color .5s ease-in-out,transform .5s ease-in-out}@media (max-width: 1200px){.container[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif;display:flex;flex-direction:column-reverse}.container[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]{padding:.5rem}.container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{height:60%;padding:8rem}}"]});let e=t;return e})();export{BL as CryptoListComponent};
